<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BetterProgrammer - ·Éû·É†·Éî·Éõ·Éò·É£·Éõ ·Éû·É†·Éù·Éí·É†·Éê·Éõ·Éò·É†·Éî·Éë·Éò·É° ·Éë·Éò·Éë·Éö·Éò·Éù·Éó·Éî·Éô·Éê</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Georgian:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0">
    <style>
        :root {
            --bg-primary: #050508;
            --bg-secondary: #0a0a0f;
            --bg-card: #0f0f14;
            --bg-elevated: #14141a;
            --bg-glass: rgba(15, 15, 20, 0.85);
            
            --accent-primary: #6366f1;
            --accent-secondary: #8b5cf6;
            --accent-tertiary: #a78bfa;
            --accent-success: #22c55e;
            --accent-warning: #f59e0b;
            --accent-error: #ef4444;
            --accent-cyan: #06b6d4;
            
            --text-primary: #f8fafc;
            --text-secondary: #94a3b8;
            --text-muted: #64748b;
            --text-dim: #475569;
            
            --border-subtle: rgba(255, 255, 255, 0.06);
            --border-light: rgba(255, 255, 255, 0.1);
            --border-accent: rgba(99, 102, 241, 0.3);
            
            --gradient-primary: linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #a78bfa 100%);
            --gradient-glass: linear-gradient(135deg, rgba(99, 102, 241, 0.1) 0%, rgba(139, 92, 246, 0.05) 100%);
            --gradient-card: linear-gradient(180deg, rgba(255,255,255,0.03) 0%, transparent 100%);
            
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 16px 48px rgba(0, 0, 0, 0.5);
            --shadow-glow: 0 0 40px rgba(99, 102, 241, 0.15);
            
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --radius-xl: 24px;
            
            --font-georgian: 'Noto Sans Georgian', sans-serif;
            --font-display: 'Outfit', sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            
            --transition-fast: 0.15s ease;
            --transition-normal: 0.25s ease;
            --transition-slow: 0.4s cubic-bezier(0.16, 1, 0.3, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scrollbar-width: thin;
            scrollbar-color: var(--accent-primary) var(--bg-secondary);
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--accent-primary);
            border-radius: 4px;
        }

        body {
            font-family: var(--font-georgian);
            background: var(--bg-primary);
            color: var(--text-primary);
            line-height: 1.7;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* ===== Background Effects ===== */
        .bg-effects {
            position: fixed;
            inset: 0;
            z-index: -1;
            pointer-events: none;
            overflow: hidden;
        }

        .bg-grid {
            position: absolute;
            inset: 0;
            background-image: 
                linear-gradient(rgba(99, 102, 241, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(99, 102, 241, 0.03) 1px, transparent 1px);
            background-size: 60px 60px;
            mask-image: radial-gradient(ellipse at center, black 20%, transparent 70%);
        }

        .bg-orb {
            position: absolute;
            border-radius: 50%;
            filter: blur(100px);
            opacity: 0.4;
            animation: float 20s ease-in-out infinite;
        }

        .bg-orb-1 {
            width: 600px;
            height: 600px;
            background: var(--accent-primary);
            top: -200px;
            right: -100px;
            animation-delay: 0s;
        }

        .bg-orb-2 {
            width: 500px;
            height: 500px;
            background: var(--accent-secondary);
            bottom: -150px;
            left: -100px;
            animation-delay: -7s;
        }

        .bg-orb-3 {
            width: 300px;
            height: 300px;
            background: var(--accent-cyan);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation-delay: -14s;
            opacity: 0.2;
        }

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            33% { transform: translate(30px, -30px) scale(1.05); }
            66% { transform: translate(-20px, 20px) scale(0.95); }
        }

        /* ===== Utility Classes ===== */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 24px;
        }

        .section {
            padding: 100px 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: 60px;
        }

        .section-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: var(--gradient-glass);
            border: 1px solid var(--border-accent);
            border-radius: 100px;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--accent-tertiary);
            margin-bottom: 16px;
        }

        .section-title {
            font-family: var(--font-display);
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 800;
            line-height: 1.2;
            margin-bottom: 16px;
            background: linear-gradient(135deg, var(--text-primary) 0%, var(--text-secondary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        /* ===== Header ===== */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            padding: 16px 0;
            background: var(--bg-glass);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-subtle);
            transition: var(--transition-normal);
        }

        .header.scrolled {
            padding: 12px 0;
            background: rgba(5, 5, 8, 0.95);
        }

        .navbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 32px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
            flex-shrink: 0;
        }

        .logo-icon {
            width: 44px;
            height: 44px;
            background: var(--gradient-primary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            box-shadow: var(--shadow-glow);
        }

        .logo-text {
            font-family: var(--font-display);
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .logo-text span {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-menu {
            display: flex;
            align-items: center;
            gap: 8px;
            list-style: none;
        }

        .nav-link {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 16px;
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.95rem;
            border-radius: var(--radius-md);
            transition: var(--transition-fast);
            position: relative;
        }

        .nav-link:hover {
            color: var(--text-primary);
            background: rgba(255, 255, 255, 0.05);
        }

        .nav-link.active {
            color: var(--accent-primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .nav-link .material-symbols-rounded {
            font-size: 20px;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .search-wrapper {
            position: relative;
        }

        .search-input {
            width: 240px;
            padding: 10px 16px 10px 44px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.9rem;
            transition: var(--transition-fast);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .search-input::placeholder {
            color: var(--text-muted);
        }

        .search-icon {
            position: absolute;
            left: 14px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-size: 20px;
            pointer-events: none;
        }

        .icon-btn {
            position: relative;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .icon-btn:hover {
            color: var(--text-primary);
            border-color: var(--border-light);
            transform: translateY(-2px);
        }

        .icon-btn .badge {
            position: absolute;
            top: -4px;
            right: -4px;
            min-width: 18px;
            height: 18px;
            padding: 0 5px;
            background: var(--accent-primary);
            border-radius: 100px;
            font-size: 0.7rem;
            font-weight: 600;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 12px 24px;
            font-family: inherit;
            font-size: 0.95rem;
            font-weight: 600;
            text-decoration: none;
            border: none;
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .btn-primary {
            background: var(--gradient-primary);
            color: white;
            box-shadow: var(--shadow-sm), 0 0 20px rgba(99, 102, 241, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md), 0 0 30px rgba(99, 102, 241, 0.4);
        }

        .btn-secondary {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            color: var(--text-primary);
        }

        .btn-secondary:hover {
            background: var(--bg-elevated);
            border-color: var(--border-accent);
        }

        .btn-ghost {
            background: transparent;
            color: var(--text-secondary);
        }

        .btn-ghost:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 0.85rem;
        }

        .btn-lg {
            padding: 16px 32px;
            font-size: 1rem;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            cursor: pointer;
            padding: 8px;
        }

        /* ===== Hero Section ===== */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            padding-top: 100px;
            position: relative;
        }

        .hero-content {
            text-align: center;
            max-width: 900px;
            margin: 0 auto;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            padding: 10px 20px;
            background: var(--gradient-glass);
            border: 1px solid var(--border-accent);
            border-radius: 100px;
            margin-bottom: 32px;
            animation: fadeInUp 0.6s ease forwards;
        }

        .hero-badge-dot {
            width: 8px;
            height: 8px;
            background: var(--accent-success);
            border-radius: 50%;
            animation: pulse 2s ease infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.5; transform: scale(1.2); }
        }

        .hero-title {
            font-family: var(--font-display);
            font-size: clamp(2.5rem, 7vw, 4.5rem);
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 24px;
            animation: fadeInUp 0.6s ease 0.1s forwards;
            opacity: 0;
        }

        .hero-title .gradient {
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: 1.25rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 40px;
            animation: fadeInUp 0.6s ease 0.2s forwards;
            opacity: 0;
        }

        .hero-actions {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 60px;
            animation: fadeInUp 0.6s ease 0.3s forwards;
            opacity: 0;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 48px;
            flex-wrap: wrap;
            animation: fadeInUp 0.6s ease 0.4s forwards;
            opacity: 0;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-family: var(--font-display);
            font-size: 2.5rem;
            font-weight: 800;
            background: var(--gradient-primary);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-top: 4px;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* ===== Books Grid ===== */
        .books-section {
            background: linear-gradient(180deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
        }

        .filters-bar {
            display: flex;
            align-items: center;
            gap: 16px;
            flex-wrap: wrap;
            padding: 24px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            margin-bottom: 40px;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 6px;
            flex: 1;
            min-width: 180px;
        }

        .filter-label {
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .filter-select {
            padding: 10px 14px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-sm);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.9rem;
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        .filter-select option {
            background: var(--bg-card);
        }

        .books-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 24px;
        }

        .book-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            overflow: hidden;
            transition: var(--transition-slow);
            position: relative;
        }

        .book-card:hover {
            transform: translateY(-8px);
            border-color: var(--border-accent);
            box-shadow: var(--shadow-lg), var(--shadow-glow);
        }

        .book-cover {
            position: relative;
            height: 220px;
            overflow: hidden;
        }

        .book-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition-slow);
        }

        .book-card:hover .book-cover img {
            transform: scale(1.08);
        }

        .book-cover::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(180deg, transparent 50%, rgba(0,0,0,0.8) 100%);
        }

        .book-badges {
            position: absolute;
            top: 12px;
            right: 12px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            z-index: 1;
        }

        .book-badge {
            padding: 6px 12px;
            border-radius: 100px;
            font-size: 0.75rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .book-badge.free {
            background: rgba(34, 197, 94, 0.9);
            color: white;
        }

        .book-badge.new {
            background: rgba(99, 102, 241, 0.9);
            color: white;
        }

        .book-badge.popular {
            background: rgba(245, 158, 11, 0.9);
            color: white;
        }

        .book-info {
            padding: 20px;
        }

        .book-category {
            display: inline-block;
            padding: 4px 10px;
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 100px;
            font-size: 0.75rem;
            font-weight: 500;
            color: var(--accent-tertiary);
            margin-bottom: 12px;
        }

        .book-title {
            font-family: var(--font-display);
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .book-author {
            display: flex;
            align-items: center;
            gap: 6px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-bottom: 12px;
        }

        .book-author .material-symbols-rounded {
            font-size: 16px;
        }

        .book-description {
            font-size: 0.9rem;
            color: var(--text-muted);
            line-height: 1.6;
            margin-bottom: 16px;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .book-meta {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding-top: 16px;
            border-top: 1px solid var(--border-subtle);
            margin-bottom: 16px;
        }

        .book-rating {
            display: flex;
            align-items: center;
            gap: 4px;
            color: var(--accent-warning);
            font-weight: 600;
        }

        .book-rating .material-symbols-rounded {
            font-size: 18px;
        }

        .book-pages {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        .book-price-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 16px;
        }

        .book-price {
            font-family: var(--font-display);
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--accent-primary);
        }

        .book-price.free {
            color: var(--accent-success);
        }

        .book-original-price {
            font-size: 0.9rem;
            color: var(--text-muted);
            text-decoration: line-through;
            margin-left: 8px;
        }

        .book-actions {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }

        .book-actions .btn-preview {
            grid-column: 1 / -1;
        }

        /* ===== Categories ===== */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 24px;
        }

        .category-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            padding: 32px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition-slow);
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--gradient-glass);
            opacity: 0;
            transition: var(--transition-normal);
        }

        .category-card:hover {
            transform: translateY(-6px);
            border-color: var(--border-accent);
            box-shadow: var(--shadow-lg);
        }

        .category-card:hover::before {
            opacity: 1;
        }

        .category-icon {
            width: 64px;
            height: 64px;
            background: var(--gradient-primary);
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 28px;
            color: white;
            position: relative;
            z-index: 1;
        }

        .category-name {
            font-family: var(--font-display);
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
            position: relative;
            z-index: 1;
        }

        .category-description {
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 16px;
            position: relative;
            z-index: 1;
        }

        .category-count {
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--accent-primary);
            position: relative;
            z-index: 1;
        }

        /* ===== FAQ ===== */
        .faq-container {
            max-width: 800px;
            margin: 0 auto;
        }

        .faq-item {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            margin-bottom: 12px;
            overflow: hidden;
            transition: var(--transition-fast);
        }

        .faq-item:hover {
            border-color: var(--border-light);
        }

        .faq-question {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 20px 24px;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-primary);
        }

        .faq-question .material-symbols-rounded {
            color: var(--text-muted);
            transition: var(--transition-fast);
        }

        .faq-item.active .faq-question .material-symbols-rounded {
            transform: rotate(180deg);
            color: var(--accent-primary);
        }

        .faq-answer {
            padding: 0 24px 20px;
            color: var(--text-secondary);
            line-height: 1.7;
            display: none;
        }

        .faq-item.active .faq-answer {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* ===== Profile ===== */
        .profile-section {
            max-width: 800px;
            margin: 0 auto;
        }

        .profile-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .profile-avatar {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            background: var(--gradient-primary);
            margin: 0 auto 20px;
            position: relative;
            cursor: pointer;
            overflow: hidden;
            border: 4px solid var(--bg-card);
            box-shadow: var(--shadow-lg);
        }

        .profile-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-avatar-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            color: white;
        }

        .profile-avatar-edit {
            position: absolute;
            bottom: 8px;
            right: 8px;
            width: 36px;
            height: 36px;
            background: var(--accent-primary);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            opacity: 0;
            transition: var(--transition-fast);
        }

        .profile-avatar:hover .profile-avatar-edit {
            opacity: 1;
        }

        .profile-name {
            font-family: var(--font-display);
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .profile-role {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            padding: 6px 14px;
            background: rgba(99, 102, 241, 0.1);
            border: 1px solid rgba(99, 102, 241, 0.2);
            border-radius: 100px;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--accent-tertiary);
        }

        .profile-card {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            padding: 32px;
        }

        .profile-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 0;
            border-bottom: 1px solid var(--border-subtle);
        }

        .profile-row:last-child {
            border-bottom: none;
        }

        .profile-label {
            color: var(--text-muted);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .profile-value {
            font-weight: 500;
            color: var(--text-primary);
        }

        .profile-actions {
            display: flex;
            gap: 12px;
            justify-content: center;
            margin-top: 32px;
        }

        /* ===== Code Editor ===== */
        .code-editor-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            min-height: 600px;
        }

        .code-panel {
            display: flex;
            flex-direction: column;
        }

        .code-panel-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-bottom: none;
            border-radius: var(--radius-lg) var(--radius-lg) 0 0;
        }

        .code-panel-title {
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .code-panel-actions {
            display: flex;
            gap: 8px;
        }

        .code-textarea {
            flex: 1;
            padding: 20px;
            background: #1a1a2e;
            border: 1px solid var(--border-subtle);
            border-radius: 0 0 var(--radius-lg) var(--radius-lg);
            color: var(--text-primary);
            font-family: var(--font-mono);
            font-size: 0.9rem;
            line-height: 1.6;
            resize: none;
        }

        .code-textarea:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        .preview-frame {
            flex: 1;
            background: white;
            border: 1px solid var(--border-subtle);
            border-radius: 0 0 var(--radius-lg) var(--radius-lg);
        }

        /* ===== Admin Panel ===== */
        .admin-layout {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 24px;
            min-height: 600px;
        }

        .admin-sidebar {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            padding: 24px;
        }

        .admin-sidebar-title {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 16px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .admin-menu {
            list-style: none;
        }

        .admin-menu-item {
            margin-bottom: 4px;
        }

        .admin-menu-link {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            color: var(--text-secondary);
            text-decoration: none;
            border-radius: var(--radius-md);
            transition: var(--transition-fast);
        }

        .admin-menu-link:hover {
            background: rgba(255, 255, 255, 0.05);
            color: var(--text-primary);
        }

        .admin-menu-link.active {
            background: rgba(99, 102, 241, 0.1);
            color: var(--accent-primary);
        }

        .admin-content {
            background: var(--bg-card);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-lg);
            padding: 24px;
        }

        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
            margin-bottom: 32px;
        }

        .admin-stat-card {
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            padding: 20px;
            text-align: center;
        }

        .admin-stat-value {
            font-family: var(--font-display);
            font-size: 2rem;
            font-weight: 700;
            color: var(--accent-primary);
            margin-bottom: 4px;
        }

        .admin-stat-label {
            font-size: 0.85rem;
            color: var(--text-muted);
        }

        /* ===== Modal ===== */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(8px);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 24px;
            opacity: 0;
            transition: var(--transition-normal);
        }

        .modal-overlay.active {
            display: flex;
            opacity: 1;
        }

        .modal {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-xl);
            width: 100%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
            transform: scale(0.95);
            transition: var(--transition-slow);
        }

        .modal-overlay.active .modal {
            transform: scale(1);
        }

        .modal-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 24px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .modal-title {
            font-family: var(--font-display);
            font-size: 1.25rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .modal-close {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-sm);
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition-fast);
        }

        .modal-close:hover {
            color: var(--text-primary);
            border-color: var(--border-light);
        }

        .modal-body {
            padding: 24px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-size: 0.9rem;
            font-weight: 500;
            color: var(--text-secondary);
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            color: var(--text-primary);
            font-family: inherit;
            font-size: 0.95rem;
            transition: var(--transition-fast);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--accent-primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .form-input::placeholder {
            color: var(--text-muted);
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .form-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
        }

        /* ===== Cart ===== */
        .cart-empty {
            text-align: center;
            padding: 48px 24px;
        }

        .cart-empty-icon {
            font-size: 64px;
            color: var(--text-muted);
            margin-bottom: 16px;
        }

        .cart-item {
            display: flex;
            gap: 16px;
            padding: 16px;
            border-bottom: 1px solid var(--border-subtle);
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-item-image {
            width: 60px;
            height: 80px;
            border-radius: var(--radius-sm);
            object-fit: cover;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-title {
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 4px;
        }

        .cart-item-price {
            color: var(--accent-primary);
            font-weight: 600;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            padding: 20px;
            background: var(--bg-elevated);
            border-radius: var(--radius-md);
            margin-top: 16px;
        }

        .cart-total-label {
            font-weight: 600;
        }

        .cart-total-value {
            font-family: var(--font-display);
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--accent-primary);
        }

        /* ===== Toast ===== */
        .toast-container {
            position: fixed;
            top: 100px;
            right: 24px;
            z-index: 3000;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .toast {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            transform: translateX(120%);
            transition: var(--transition-slow);
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.success {
            border-left: 4px solid var(--accent-success);
        }

        .toast.error {
            border-left: 4px solid var(--accent-error);
        }

        .toast.warning {
            border-left: 4px solid var(--accent-warning);
        }

        .toast.info {
            border-left: 4px solid var(--accent-primary);
        }

        /* ===== Chat ===== */
        .chat-container {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 380px;
            height: 500px;
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-xl);
            box-shadow: var(--shadow-lg);
            display: none;
            flex-direction: column;
            z-index: 1500;
            overflow: hidden;
        }

        .chat-container.open {
            display: flex;
        }

        .chat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 16px 20px;
            background: var(--gradient-primary);
            color: white;
        }

        .chat-header-title {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .chat-messages {
            flex: 1;
            padding: 16px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .chat-message {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: var(--radius-lg);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        .chat-message.user {
            align-self: flex-end;
            background: var(--gradient-primary);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .chat-message.admin {
            align-self: flex-start;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-bottom-left-radius: 4px;
        }

        .chat-input-area {
            display: flex;
            gap: 12px;
            padding: 16px;
            border-top: 1px solid var(--border-subtle);
        }

        .chat-input {
            flex: 1;
            padding: 12px 16px;
            background: var(--bg-elevated);
            border: 1px solid var(--border-subtle);
            border-radius: var(--radius-md);
            color: var(--text-primary);
            font-family: inherit;
            resize: none;
        }

        .chat-input:focus {
            outline: none;
            border-color: var(--accent-primary);
        }

        /* ===== Footer ===== */
        .footer {
            background: var(--bg-secondary);
            border-top: 1px solid var(--border-subtle);
            padding: 60px 0 30px;
        }

        .footer-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-section h4 {
            font-family: var(--font-display);
            font-size: 1rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 20px;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-size: 0.9rem;
            transition: var(--transition-fast);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .footer-links a:hover {
            color: var(--accent-primary);
        }

        .footer-bottom {
            padding-top: 30px;
            border-top: 1px solid var(--border-subtle);
            text-align: center;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        /* ===== Responsive ===== */
        @media (max-width: 1024px) {
            .nav-menu {
                display: none;
            }

            .mobile-menu-btn {
                display: block;
            }

            .admin-layout {
                grid-template-columns: 1fr;
            }

            .code-editor-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .hero-stats {
                gap: 24px;
            }

            .stat-value {
                font-size: 2rem;
            }

            .filters-bar {
                flex-direction: column;
            }

            .filter-group {
                width: 100%;
            }

            .books-grid {
                grid-template-columns: 1fr;
            }

            .form-row {
                grid-template-columns: 1fr;
            }

            .chat-container {
                width: calc(100% - 48px);
                right: 24px;
                left: 24px;
            }

            .header-actions .search-wrapper {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .hero-title {
                font-size: 2rem;
            }

            .hero-actions {
                flex-direction: column;
            }

            .hero-actions .btn {
                width: 100%;
            }

            .profile-actions {
                flex-direction: column;
            }

            .profile-actions .btn {
                width: 100%;
            }
        }

        /* ===== Pages ===== */
        .page {
            display: none;
        }

        .page.active {
            display: block;
            animation: fadeIn 0.4s ease;
        }

        /* ===== Loading ===== */
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 3px solid var(--border-subtle);
            border-top-color: var(--accent-primary);
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
            margin: 40px auto;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== Cookie Consent ===== */
        .cookie-banner {
            position: fixed;
            bottom: 24px;
            left: 24px;
            right: 24px;
            max-width: 480px;
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: var(--radius-xl);
            padding: 24px;
            box-shadow: var(--shadow-lg);
            z-index: 2500;
            display: none;
            animation: slideUp 0.4s ease;
        }

        .cookie-banner.show {
            display: block;
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .cookie-text {
            color: var(--text-secondary);
            margin-bottom: 16px;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .cookie-actions {
            display: flex;
            gap: 12px;
        }
    </style>
</head>
<body>
    <!-- Background Effects -->
    <div class="bg-effects">
        <div class="bg-grid"></div>
        <div class="bg-orb bg-orb-1"></div>
        <div class="bg-orb bg-orb-2"></div>
        <div class="bg-orb bg-orb-3"></div>
    </div>

    <!-- Cookie Consent -->
    <div class="cookie-banner" id="cookieBanner">
        <p class="cookie-text">
            üç™ ·É©·Éï·Éî·Éú ·Éï·Éò·Éß·Éî·Éú·Éî·Éë·Éó ·É•·É£·É•·Éò-·É§·Éê·Éò·Éö·Éî·Éë·É° ·Éó·É•·Éï·Éî·Éú·Éò ·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éò·É° ·Éí·Éê·É°·Éê·É£·Éõ·ÉØ·Éù·Éë·Éî·É°·Éî·Éë·Éö·Éê·Éì. ·É°·Éê·Éò·É¢·Éò·É° ·Éí·Éê·Éõ·Éù·Éß·Éî·Éú·Éî·Éë·Éò·Éó ·Éó·É•·Éï·Éî·Éú ·Éî·Éó·Éê·Éú·ÉÆ·Éõ·Éî·Éë·Éò·Éó ·É•·É£·É•·Éò-·É§·Éê·Éò·Éö·Éî·Éë·Éò·É° ·Éû·Éù·Éö·Éò·É¢·Éò·Éô·Éê·É°.
        </p>
        <div class="cookie-actions">
            <button class="btn btn-primary btn-sm" onclick="app.acceptCookies()">·Éõ·Éò·É¶·Éî·Éë·Éê</button>
            <button class="btn btn-ghost btn-sm" onclick="app.rejectCookies()">·É£·Éê·É†·Éß·Éù·É§·Éê</button>
        </div>
    </div>

    <!-- Header -->
    <header class="header" id="header">
        <div class="container">
            <nav class="navbar">
                <a href="#" class="logo" onclick="app.navigate('home')">
                    <div class="logo-icon">
                        <span class="material-symbols-rounded">code</span>
                    </div>
                    <div class="logo-text">Better<span>Programmer</span></div>
                </a>

                <ul class="nav-menu" id="navMenu">
                    <li><a href="#" class="nav-link active" data-page="home">
                        <span class="material-symbols-rounded">home</span>
                        ·Éõ·Éó·Éê·Éï·Éê·É†·Éò
                    </a></li>
                    <li><a href="#" class="nav-link" data-page="books">
                        <span class="material-symbols-rounded">menu_book</span>
                        ·É¨·Éò·Éí·Éú·Éî·Éë·Éò
                    </a></li>
                    <li><a href="#" class="nav-link" data-page="categories">
                        <span class="material-symbols-rounded">category</span>
                        ·Éô·Éê·É¢·Éî·Éí·Éù·É†·Éò·Éî·Éë·Éò
                    </a></li>
                    <li><a href="#" class="nav-link" data-page="faq">
                        <span class="material-symbols-rounded">help</span>
                        ·Éô·Éò·Éó·ÉÆ·Éï·Éî·Éë·Éò
                    </a></li>
                    <li><a href="#" class="nav-link" data-page="profile">
                        <span class="material-symbols-rounded">person</span>
                        ·Éû·É†·Éù·É§·Éò·Éö·Éò
                    </a></li>
                    <li><a href="#" class="nav-link" data-page="editor">
                        <span class="material-symbols-rounded">code_blocks</span>
                        ·É†·Éî·Éì·Éê·É•·É¢·Éù·É†·Éò
                    </a></li>
                    <li><a href="#" class="nav-link" data-page="admin" id="adminNavLink" style="display: none;">
                        <span class="material-symbols-rounded">admin_panel_settings</span>
                        ·Éê·Éì·Éõ·Éò·Éú·Éò
                    </a></li>
                </ul>

                <div class="header-actions">
                    <div class="search-wrapper">
                        <span class="material-symbols-rounded search-icon">search</span>
                        <input type="text" class="search-input" placeholder="·É´·Éò·Éî·Éë·Éê..." id="searchInput">
                    </div>

                    <button class="icon-btn" id="chatBtn" title="·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê">
                        <span class="material-symbols-rounded">chat</span>
                        <span class="badge" id="chatBadge" style="display: none;">0</span>
                    </button>

                    <button class="icon-btn" id="cartBtn" title="·Éô·Éê·Éö·Éê·Éó·Éê">
                        <span class="material-symbols-rounded">shopping_cart</span>
                        <span class="badge" id="cartBadge">0</span>
                    </button>

                    <button class="btn btn-primary btn-sm" id="authBtn">·É®·Éî·É°·Éï·Éö·Éê</button>

                    <button class="mobile-menu-btn" id="mobileMenuBtn">
                        <span class="material-symbols-rounded">menu</span>
                    </button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main id="mainContent">
        <!-- Home Page -->
        <section class="page active" id="homePage">
            <div class="hero">
                <div class="container">
                    <div class="hero-content">
                        <div class="hero-badge">
                            <span class="hero-badge-dot"></span>
                            <span>700+ ·Éê·É•·É¢·Éò·É£·É†·Éò ·Éõ·Éô·Éò·Éó·ÉÆ·Éï·Éî·Éö·Éò</span>
                        </div>

                        <h1 class="hero-title">
                            ·Éò·É°·É¨·Éê·Éï·Éö·Éî <span class="gradient">·Éû·É†·Éù·Éí·É†·Éê·Éõ·Éò·É†·Éî·Éë·Éê</span><br>
                            ·Éû·É†·Éî·Éõ·Éò·É£·Éõ ·É¨·Éò·Éí·Éú·Éî·Éë·Éò·Éó
                        </h1>

                        <p class="hero-subtitle">
                            ·Éõ·Éò·Éò·É¶·Éî ·É¨·Éï·Éì·Éù·Éõ·Éê ·Éõ·Éê·É¶·Éê·Éö·Éò ·ÉÆ·Éê·É†·Éò·É°·ÉÆ·Éò·É° ·Éî·Éö·Éî·É•·É¢·É†·Éù·Éú·É£·Éö ·É¨·Éò·Éí·Éú·Éî·Éë·Éñ·Éî ·Éì·Éê ·Éí·Éê·Éú·Éï·Éò·Éó·Éê·É†·Éì·Éò ·Éú·É£·Éö·Éù·Éï·Éê·Éú·Éò ·Éì·Éù·Éú·Éò·Éì·Éê·Éú ·Éû·É†·Éù·É§·Éî·É°·Éò·Éù·Éú·Éê·Éö·Éê·Éõ·Éì·Éî
                        </p>

                        <div class="hero-actions">
                            <button class="btn btn-primary btn-lg" onclick="app.navigate('books')">
                                <span class="material-symbols-rounded">explore</span>
                                ·Éë·Éò·Éë·Éö·Éò·Éù·Éó·Éî·Éô·Éò·É° ·Éú·Éê·ÉÆ·Éï·Éê
                            </button>
                            <button class="btn btn-secondary btn-lg" onclick="app.showRegisterModal()">
                                <span class="material-symbols-rounded">person_add</span>
                                ·É£·É§·Éê·É°·Éù ·É†·Éî·Éí·Éò·É°·É¢·É†·Éê·É™·Éò·Éê
                            </button>
                        </div>

                        <div class="hero-stats">
                            <div class="stat-item">
                                <div class="stat-value">14+</div>
                                <div class="stat-label">·É¨·Éò·Éí·Éú·Éò</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">2+</div>
                                <div class="stat-label">·É¨·Éö·Éò·É° ·Éí·Éê·Éõ·Éù·É™·Éì·Éò·Éö·Éî·Éë·Éê</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">700+</div>
                                <div class="stat-label">·Éõ·Éô·Éò·Éó·ÉÆ·Éï·Éî·Éö·Éò</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">5.0</div>
                                <div class="stat-label">·É†·Éî·Éò·É¢·Éò·Éú·Éí·Éò</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Books Page -->
        <section class="page books-section" id="booksPage">
            <div class="container section">
                <div class="section-header">
                    <div class="section-badge">
                        <span class="material-symbols-rounded">auto_stories</span>
                        ·Éë·Éò·Éë·Éö·Éò·Éù·Éó·Éî·Éô·Éê
                    </div>
                    <h2 class="section-title">·Éû·É†·Éù·Éí·É†·Éê·Éõ·Éò·É†·Éî·Éë·Éò·É° ·É¨·Éò·Éí·Éú·Éî·Éë·Éò</h2>
                    <p class="section-subtitle">
                        ·Éê·É¶·Éõ·Éù·Éê·É©·Éò·Éú·Éî ·É©·Éï·Éî·Éú·Éò ·Éô·Éù·Éö·Éî·É•·É™·Éò·Éê - ·É£·É§·Éê·É°·Éù ·Éì·Éê ·É§·Éê·É°·Éò·Éê·Éú·Éò ·É¨·Éò·Éí·Éú·Éî·Éë·Éò ·Éß·Éï·Éî·Éö·Éê ·Éì·Éù·Éú·Éò·É°·Éó·Éï·Éò·É°
                    </p>
                </div>

                <div class="filters-bar">
                    <div class="filter-group">
                        <label class="filter-label">·Éô·Éê·É¢·Éî·Éí·Éù·É†·Éò·Éê</label>
                        <select class="filter-select" id="filterCategory">
                            <option value="all">·Éß·Éï·Éî·Éö·Éê</option>
                            <option value="web">·Éï·Éî·Éë ·Éì·Éî·Éï·Éî·Éö·Éù·Éû·Éõ·Éî·Éú·É¢·Éò</option>
                            <option value="mobile">·Éõ·Éù·Éë·Éò·Éö·É£·É†·Éò</option>
                            <option value="data">·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éó·Éê ·Éõ·Éî·É™·Éú·Éò·Éî·É†·Éî·Éë·Éê</option>
                            <option value="ai">·ÉÆ·Éî·Éö·Éù·Éï·Éú·É£·É†·Éò ·Éò·Éú·É¢·Éî·Éö·Éî·É•·É¢·Éò</option>
                            <option value="devops">DevOps</option>
                            <option value="algorithms">·Éê·Éö·Éí·Éù·É†·Éò·Éó·Éõ·Éî·Éë·Éò</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">·É§·Éê·É°·Éò</label>
                        <select class="filter-select" id="filterPrice">
                            <option value="all">·Éß·Éï·Éî·Éö·Éê</option>
                            <option value="free">·É£·É§·Éê·É°·Éù</option>
                            <option value="paid">·É§·Éê·É°·Éò·Éê·Éú·Éò</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">·Éì·Éù·Éú·Éî</label>
                        <select class="filter-select" id="filterLevel">
                            <option value="all">·Éß·Éï·Éî·Éö·Éê</option>
                            <option value="beginner">·Éì·Éê·Éõ·É¨·Éß·Éî·Éë·Éò</option>
                            <option value="intermediate">·É°·Éê·É®·É£·Éê·Éö·Éù</option>
                            <option value="advanced">·Éõ·Éù·É¨·Éò·Éú·Éê·Éï·Éî</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">·Éì·Éê·Éö·Éê·Éí·Éî·Éë·Éê</label>
                        <select class="filter-select" id="filterSort">
                            <option value="popular">·Éû·Éù·Éû·É£·Éö·Éê·É†·Éù·Éë·Éò·Éó</option>
                            <option value="newest">·Éê·ÉÆ·Éê·Éö·Éò</option>
                            <option value="rating">·É†·Éî·Éò·É¢·Éò·Éú·Éí·Éò·Éó</option>
                            <option value="price-low">·É§·Éê·É°·Éò: ·Éì·Éê·Éë·Éê·Éö·Éò</option>
                            <option value="price-high">·É§·Éê·É°·Éò: ·Éõ·Éê·É¶·Éê·Éö·Éò</option>
                        </select>
                    </div>
                    <button class="btn btn-ghost btn-sm" onclick="app.resetFilters()">
                        <span class="material-symbols-rounded">restart_alt</span>
                        ·Éí·Éê·É°·É£·É§·Éó·Éê·Éï·Éî·Éë·Éê
                    </button>
                </div>

                <div class="books-grid" id="booksGrid">
                    <!-- Books will be rendered here -->
                </div>
            </div>
        </section>

        <!-- Categories Page -->
        <section class="page" id="categoriesPage">
            <div class="container section">
                <div class="section-header">
                    <div class="section-badge">
                        <span class="material-symbols-rounded">category</span>
                        ·Éô·Éê·É¢·Éî·Éí·Éù·É†·Éò·Éî·Éë·Éò
                    </div>
                    <h2 class="section-title">·É¨·Éò·Éí·Éú·Éî·Éë·Éò·É° ·Éô·Éê·É¢·Éî·Éí·Éù·É†·Éò·Éî·Éë·Éò</h2>
                    <p class="section-subtitle">
                        ·Éê·Éò·É†·É©·Éò·Éî ·É®·Éî·Éú·Éó·Éï·Éò·É° ·É°·Éê·É°·É£·É†·Éï·Éî·Éö·Éò ·Éõ·Éò·Éõ·Éê·É†·Éó·É£·Éö·Éî·Éë·Éê ·Éì·Éê ·Éò·Éû·Éù·Éï·Éî ·É®·Éî·É°·Éê·Éë·Éê·Éõ·Éò·É°·Éò ·É¨·Éò·Éí·Éú·Éî·Éë·Éò
                    </p>
                </div>

                <div class="categories-grid" id="categoriesGrid">
                    <!-- Categories will be rendered here -->
                </div>
            </div>
        </section>

        <!-- FAQ Page -->
        <section class="page" id="faqPage">
            <div class="container section">
                <div class="section-header">
                    <div class="section-badge">
                        <span class="material-symbols-rounded">help</span>
                        ·Éì·Éê·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê
                    </div>
                    <h2 class="section-title">·ÉÆ·É®·Éò·É†·Éê·Éì ·Éì·Éê·É°·Éõ·É£·Éö·Éò ·Éô·Éò·Éó·ÉÆ·Éï·Éî·Éë·Éò</h2>
                    <p class="section-subtitle">
                        ·Éò·Éû·Éù·Éï·Éî ·Éû·Éê·É°·É£·ÉÆ·Éî·Éë·Éò ·Éß·Éï·Éî·Éö·Éê·Éñ·Éî ·Éí·Éê·Éï·É†·É™·Éî·Éö·Éî·Éë·É£·Éö ·Éô·Éò·Éó·ÉÆ·Éï·Éî·Éë·Éñ·Éî
                    </p>
                </div>

                <div class="faq-container" id="faqContainer">
                    <!-- FAQ will be rendered here -->
                </div>
            </div>
        </section>

        <!-- Profile Page -->
        <section class="page" id="profilePage">
            <div class="container section">
                <div class="profile-section" id="profileSection">
                    <!-- Profile will be rendered here -->
                </div>
            </div>
        </section>

        <!-- Code Editor Page -->
        <section class="page" id="editorPage">
            <div class="container section">
                <div class="section-header">
                    <div class="section-badge">
                        <span class="material-symbols-rounded">code</span>
                        ·É†·Éî·Éì·Éê·É•·É¢·Éù·É†·Éò
                    </div>
                    <h2 class="section-title">·Éô·Éù·Éì·Éò·É° ·É†·Éî·Éì·Éê·É•·É¢·Éù·É†·Éò</h2>
                    <p class="section-subtitle">
                        ·Éì·Éê·É¨·Éî·É†·Éî ·Éì·Éê ·Éí·Éê·É®·Éï·Éò ·Éô·Éù·Éì·Éò ·Éû·Éò·É†·Éì·Éê·Éû·Éò·É† ·Éë·É†·Éê·É£·Éñ·Éî·É†·É®·Éò
                    </p>
                </div>

                <div class="code-editor-container">
                    <div class="code-panel">
                        <div class="code-panel-header">
                            <div class="code-panel-title">
                                <span class="material-symbols-rounded">edit</span>
                                ·Éô·Éù·Éì·Éò
                            </div>
                            <div class="code-panel-actions">
                                <select class="filter-select" id="languageSelect" style="width: auto;">
                                    <option value="html">HTML</option>
                                    <option value="javascript">JavaScript</option>
                                    <option value="css">CSS</option>
                                </select>
                                <button class="btn btn-primary btn-sm" onclick="app.runCode()">
                                    <span class="material-symbols-rounded">play_arrow</span>
                                    ·Éí·Éê·É®·Éï·Éî·Éë·Éê
                                </button>
                            </div>
                        </div>
                        <textarea class="code-textarea" id="codeEditor" spellcheck="false"><!DOCTYPE html>
<html>
<head>
    <style>
        body {
            font-family: 'Noto Sans Georgian', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #667eea, #764ba2);
        }
        .card {
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            text-align: center;
        }
        h1 { color: #333; margin-bottom: 10px; }
        p { color: #666; }
    </style>
</head>
<body>
    <div class="card">
        <h1>·Éí·Éê·Éõ·Éê·É†·ÉØ·Éù·Éë·Éê! üëã</h1>
        <p>·Éô·Éî·Éó·Éò·Éö·Éò ·Éò·Éß·Éù·É° ·É®·Éî·Éú·Éò ·Éõ·Éù·Éë·É†·É´·Éê·Éú·Éî·Éë·Éê BetterProgrammer-·Éñ·Éî</p>
    </div>
</body>
</html></textarea>
                    </div>
                    <div class="code-panel">
                        <div class="code-panel-header">
                            <div class="code-panel-title">
                                <span class="material-symbols-rounded">visibility</span>
                                ·Éí·Éê·Éì·Éê·ÉÆ·Éî·Éì·Éï·Éê
                            </div>
                            <div class="code-panel-actions">
                                <button class="btn btn-ghost btn-sm" onclick="app.clearPreview()">
                                    <span class="material-symbols-rounded">refresh</span>
                                </button>
                            </div>
                        </div>
                        <iframe class="preview-frame" id="previewFrame"></iframe>
                    </div>
                </div>
            </div>
        </section>

        <!-- Admin Page -->
        <section class="page" id="adminPage">
            <div class="container section">
                <div class="section-header">
                    <div class="section-badge">
                        <span class="material-symbols-rounded">admin_panel_settings</span>
                        ·Éê·Éì·Éõ·Éò·Éú·Éò·É°·É¢·É†·Éò·É†·Éî·Éë·Éê
                    </div>
                    <h2 class="section-title">·Éê·Éì·Éõ·Éò·Éú ·Éû·Éê·Éú·Éî·Éö·Éò</h2>
                    <p class="section-subtitle">
                        ·Éõ·Éê·É†·Éó·Éî ·É°·Éê·Éò·É¢·Éò·É° ·Éô·Éù·Éú·É¢·Éî·Éú·É¢·Éò ·Éì·Éê ·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éö·Éî·Éë·Éò
                    </p>
                </div>

                <div class="admin-layout">
                    <aside class="admin-sidebar">
                        <div class="admin-sidebar-title">·Éõ·Éî·Éú·Éò·É£</div>
                        <ul class="admin-menu">
                            <li class="admin-menu-item">
                                <a href="#" class="admin-menu-link active" data-section="dashboard">
                                    <span class="material-symbols-rounded">dashboard</span>
                                    ·Éõ·Éò·Éõ·Éù·ÉÆ·Éò·Éö·Éï·Éê
                                </a>
                            </li>
                            <li class="admin-menu-item">
                                <a href="#" class="admin-menu-link" data-section="books">
                                    <span class="material-symbols-rounded">menu_book</span>
                                    ·É¨·Éò·Éí·Éú·Éî·Éë·Éò
                                </a>
                            </li>
                            <li class="admin-menu-item">
                                <a href="#" class="admin-menu-link" data-section="users">
                                    <span class="material-symbols-rounded">people</span>
                                    ·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éö·Éî·Éë·Éò
                                </a>
                            </li>
                            <li class="admin-menu-item">
                                <a href="#" class="admin-menu-link" data-section="orders">
                                    <span class="material-symbols-rounded">receipt_long</span>
                                    ·É®·Éî·Éô·Éï·Éî·Éó·Éî·Éë·Éò
                                </a>
                            </li>
                        </ul>
                    </aside>

                    <div class="admin-content" id="adminContent">
                        <!-- Admin content will be rendered here -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Chat Container -->
    <div class="chat-container" id="chatContainer">
        <div class="chat-header">
            <div class="chat-header-title">
                <span class="material-symbols-rounded">support_agent</span>
                ·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê
            </div>
            <button class="modal-close" onclick="app.toggleChat()" style="background: rgba(255,255,255,0.2); border: none;">
                <span class="material-symbols-rounded">close</span>
            </button>
        </div>
        <div class="chat-messages" id="chatMessages">
            <!-- Messages will be rendered here -->
        </div>
        <div class="chat-input-area">
            <textarea class="chat-input" id="chatInput" placeholder="·Éì·Éê·É¨·Éî·É†·Éî ·É®·Éî·É¢·Éß·Éù·Éë·Éò·Éú·Éî·Éë·Éê..." rows="1"></textarea>
            <button class="btn btn-primary" onclick="app.sendMessage()">
                <span class="material-symbols-rounded">send</span>
            </button>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Modal Overlay -->
    <div class="modal-overlay" id="modalOverlay"></div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h4>BetterProgrammer</h4>
                    <p style="color: var(--text-secondary); font-size: 0.9rem; line-height: 1.7;">
                        ·Éû·É†·Éî·Éõ·Éò·É£·Éõ ·Éû·É†·Éù·Éí·É†·Éê·Éõ·Éò·É†·Éî·Éë·Éò·É° ·Éë·Éò·Éë·Éö·Éò·Éù·Éó·Éî·Éô·Éê. ·Éò·É°·É¨·Éê·Éï·Éö·Éî ·Éô·Éù·Éì·Éò·É†·Éî·Éë·Éê ·É°·Éê·É£·Éô·Éî·Éó·Éî·É°·Éù ·É¨·Éò·Éí·Éú·Éî·Éë·Éò·Éó.
                    </p>
                </div>
                <div class="footer-section">
                    <h4>·É°·É¨·É†·Éê·É§·Éò ·Éë·Éõ·É£·Éö·Éî·Éë·Éò</h4>
                    <ul class="footer-links">
                        <li><a href="#" onclick="app.navigate('home')"><span class="material-symbols-rounded">home</span> ·Éõ·Éó·Éê·Éï·Éê·É†·Éò</a></li>
                        <li><a href="#" onclick="app.navigate('books')"><span class="material-symbols-rounded">menu_book</span> ·É¨·Éò·Éí·Éú·Éî·Éë·Éò</a></li>
                        <li><a href="#" onclick="app.navigate('categories')"><span class="material-symbols-rounded">category</span> ·Éô·Éê·É¢·Éî·Éí·Éù·É†·Éò·Éî·Éë·Éò</a></li>
                        <li><a href="#" onclick="app.navigate('faq')"><span class="material-symbols-rounded">help</span> ·Éô·Éò·Éó·ÉÆ·Éï·Éî·Éë·Éò</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>·Éô·Éê·É¢·Éî·Éí·Éù·É†·Éò·Éî·Éë·Éò</h4>
                    <ul class="footer-links">
                        <li><a href="#" onclick="app.filterByCategory('web')"><span class="material-symbols-rounded">code</span> ·Éï·Éî·Éë ·Éì·Éî·Éï·Éî·Éö·Éù·Éû·Éõ·Éî·Éú·É¢·Éò</a></li>
                        <li><a href="#" onclick="app.filterByCategory('mobile')"><span class="material-symbols-rounded">smartphone</span> ·Éõ·Éù·Éë·Éò·Éö·É£·É†·Éò</a></li>
                        <li><a href="#" onclick="app.filterByCategory('ai')"><span class="material-symbols-rounded">psychology</span> AI & ML</a></li>
                        <li><a href="#" onclick="app.filterByCategory('devops')"><span class="material-symbols-rounded">cloud</span> DevOps</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>·Éì·Éê·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê</h4>
                    <ul class="footer-links">
                        <li><a href="#" onclick="app.navigate('faq')"><span class="material-symbols-rounded">contact_support</span> ·Éõ·ÉÆ·Éê·É†·Éì·Éê·É≠·Éî·É†·Éê</a></li>
                        <li><a href="#"><span class="material-symbols-rounded">mail</span> ·Éô·Éù·Éú·É¢·Éê·É•·É¢·Éò</a></li>
                        <li><a href="#"><span class="material-symbols-rounded">policy</span> ·Éô·Éù·Éú·É§·Éò·Éì·Éî·Éú·É™·Éò·Éê·Éö·É£·É†·Éù·Éë·Éê</a></li>
                        <li><a href="#"><span class="material-symbols-rounded">gavel</span> ·É¨·Éî·É°·Éî·Éë·Éò</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>¬© 2024 BetterProgrammer. ·Éß·Éï·Éî·Éö·Éê ·É£·É§·Éö·Éî·Éë·Éê ·Éì·Éê·É™·É£·Éö·Éò·Éê.</p>
            </div>
        </div>
    </footer>

    <script>
        // ===== BetterProgrammer App =====
        class BetterProgrammerApp {
            constructor() {
                this.state = {
                    user: null,
                    cart: [],
                    books: [],
                    filters: { category: 'all', price: 'all', level: 'all', sort: 'popular', search: '' },
                    chatMessages: [],
                    chatOpen: false
                };
                this.init();
            }

            init() {
                this.loadData();
                this.setupEventListeners();
                this.renderBooks();
                this.renderCategories();
                this.renderFAQ();
                this.renderProfile();
                this.checkCookies();
                this.updateUI();
            }

            // ===== Data Management =====
            loadData() {
                // Load user
                const savedUser = localStorage.getItem('bp_user');
                if (savedUser) this.state.user = JSON.parse(savedUser);

                // Load cart
                const savedCart = localStorage.getItem('bp_cart');
                if (savedCart) this.state.cart = JSON.parse(savedCart);

                // Load books
                this.state.books = this.getDefaultBooks();

                // Load chat messages
                const savedMessages = localStorage.getItem('bp_chat');
                if (savedMessages) this.state.chatMessages = JSON.parse(savedMessages);
            }

            getDefaultBooks() {
                return [
                    {
                        id: 'clean-code',
                        title: '·É°·É£·É§·Éó·Éê ·Éô·Éù·Éì·Éò: Agile ·Éû·É†·Éù·Éí·É†·Éê·Éõ·Éò·É†·Éî·Éë·Éò·É° ·É°·Éê·ÉÆ·Éî·Éö·Éõ·É´·É¶·Éï·Éê·Éú·Éî·Éö·Éù',
                        author: '·É†·Éù·Éë·Éî·É†·É¢ ·Éõ·Éê·É†·É¢·Éò·Éú·Éò',
                        price: 29.99,
                        originalPrice: 39.99,
                        category: 'algorithms',
                        level: 'intermediate',
                        rating: 4.8,
                        reviews: 1248,
                        pages: 464,
                        description: '·Éò·É°·É¨·Éê·Éï·Éö·Éî ·É°·É£·É§·Éó·Éê, ·Éõ·Éù·Éï·Éö·Éê·Éì·Éò ·Éô·Éù·Éì·Éò·É° ·É¨·Éî·É†·Éê ·É†·Éù·Éõ·Éî·Éö·É°·Éê·É™ ·É°·ÉÆ·Éï·Éê ·Éì·Éî·Éï·Éî·Éö·Éù·Éû·Éî·É†·Éî·Éë·Éò·É™ ·Éí·Éê·Éò·Éí·Éî·Éë·Éî·Éú.',
                        image: 'https://images.unsplash.com/photo-1516116216624-53e697fedbea?w=400&h=600&fit=crop',
                        badges: ['popular'],
                        preview: '·Éó·Éê·Éï·Éò 1: ·É†·Éê ·Éê·É†·Éò·É° ·É°·É£·É§·Éó·Éê ·Éô·Éù·Éì·Éò? ·Éô·Éê·É†·Éí·Éò ·Éô·Éù·Éì·Éò ·Éõ·Éú·Éò·É®·Éï·Éú·Éî·Éö·Éù·Éï·Éê·Éú·Éò·Éê...'
                    },
                    {
                        id: 'eloquent-js',
                        title: '·Éî·Éö·Éî·Éí·Éê·Éú·É¢·É£·É†·Éò JavaScript',
                        author: '·Éõ·Éê·É†·Éò·Éú ·É∞·Éê·Éï·Éî·É†·Éë·Éî·Éô·Éî',
                        price: 0,
                        category: 'web',
                        level: 'beginner',
                        rating: 4.7,
                        reviews: 856,
                        pages: 472,
                        description: '·Éó·Éê·Éú·Éê·Éõ·Éî·Éì·É†·Éù·Éï·Éî ·É®·Éî·É°·Éê·Éï·Éê·Éö·Éò ·Éû·É†·Éù·Éí·É†·Éê·Éõ·Éò·É†·Éî·Éë·Éê·É®·Éò JavaScript-·Éò·É° ·Éí·Éê·Éõ·Éù·Éß·Éî·Éú·Éî·Éë·Éò·Éó.',
                        image: 'https://images.unsplash.com/photo-1627398242454-45a1465c2479?w=400&h=600&fit=crop',
                        badges: ['free', 'new'],
                        preview: '·É®·Éî·É°·Éê·Éï·Éê·Éö·Éò: ·Éô·Éî·Éó·Éò·Éö·Éò ·Éò·Éß·Éù·É° ·É®·Éî·Éú·Éò ·Éõ·Éù·Éë·É†·É´·Éê·Éú·Éî·Éë·Éê JavaScript-·Éò·É° ·É°·Éê·Éõ·Éß·Éê·É†·Éù·É®·Éò...'
                    },
                    {
                        id: 'pragmatic-programmer',
                        title: '·Éû·É†·Éê·Éí·Éõ·Éê·É¢·É£·Éö·Éò ·Éû·É†·Éù·Éí·É†·Éê·Éõ·Éò·É°·É¢·Éò',
                        author: '·Éì·Éê·Éï·Éò·Éó ·Éó·Éù·Éõ·Éê·É°·Éò',
                        price: 39.99,
                        originalPrice: 49.99,
                        category: 'algorithms',
                        level: 'intermediate',
                        rating: 4.9,
                        reviews: 956,
                        pages: 352,
                        description: '·É®·Éî·Éú·Éò ·Éí·Éñ·Éê ·Éù·É°·É¢·Éê·É¢·Éù·Éë·Éò·É°·Éô·Éî·Éú - ·Éõ·Éù·É¨·Éê·É§·Éò·Éì·Éê·Éú ·Éù·É°·É¢·Éê·É¢ ·ÉÆ·Éî·Éö·Éù·É°·Éú·Éê·Éõ·Éì·Éî.',
                        image: 'https://images.unsplash.com/photo-1515879218367-8466d910aaa4?w=400&h=600&fit=crop',
                        badges: ['popular'],
                        preview: '·Éó·Éê·Éï·Éò 1: ·Éû·É†·Éê·Éí·Éõ·Éê·É¢·É£·Éö·Éò ·É§·Éò·Éö·Éù·É°·Éù·É§·Éò·Éê - ·Éê·Éõ ·Éó·Éê·Éï·É®·Éò ·Éí·Éê·Éú·Éï·Éò·ÉÆ·Éò·Éö·Éê·Éï·Éó...'
                    },
                    {
                        id: 'react-mastery',
                        title: 'React-·Éò·É° ·Éù·É°·É¢·Éê·É¢·Éù·Éë·Éê',
                        author: '·Éô·Éê·É†·Éö ·ÉØ·Éù·Éú·É°·Éù·Éú·Éò',
                        price: 0,
                        category: 'web',
                        level: 'intermediate',
                        rating: 4.6,
                        reviews: 523,
                        pages: 380,
                        description: '·É°·É†·É£·Éö·Éò ·É°·Éê·ÉÆ·Éî·Éö·Éõ·É´·É¶·Éï·Éê·Éú·Éî·Éö·Éù React-·Éñ·Éî ·Éó·Éê·Éú·Éê·Éõ·Éî·Éì·É†·Éù·Éï·Éî ·Éï·Éî·Éë ·Éê·Éû·Éö·Éò·Éô·Éê·É™·Éò·Éî·Éë·Éò·É° ·É®·Éî·É°·Éê·É•·Éõ·Éú·Éî·Éö·Éê·Éì.',
                        image: 'https://images.unsplash.com/photo-1633356122544-f134324a6cee?w=400&h=600&fit=crop',
                        badges: ['free'],
                        preview: 'React ·Éê·É†·Éò·É° JavaScript-·Éò·É° ·Éë·Éò·Éë·Éö·Éò·Éù·Éó·Éî·Éô·Éê...'
                    },
                    {
                        id: 'python-data',
                        title: 'Python ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éó·Éê ·Éõ·Éî·É™·Éú·Éò·Éî·É†·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°',
                        author: '·ÉØ·Éî·Éò·Éô ·Éï·Éê·Éú·Éì·Éî·É†·Éû·Éö·Éê·É°·Éò',
                        price: 34.99,
                        category: 'data',
                        level: 'intermediate',
                        rating: 4.7,
                        reviews: 678,
                        pages: 541,
                        description: '·Éê·É£·É™·Éò·Éö·Éî·Éë·Éî·Éö·Éò ·Éò·Éú·É°·É¢·É†·É£·Éõ·Éî·Éú·É¢·Éî·Éë·Éò ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·Éó·Éê·Éú ·É°·Éê·Éõ·É£·É®·Éê·Éù·Éì.',
                        image: 'https://images.unsplash.com/photo-1526379095098-d400fd0bf935?w=400&h=600&fit=crop',
                        badges: ['popular'],
                        preview: 'Python ·Éí·Éê·ÉÆ·Éì·Éê ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éó·Éê ·Éõ·Éî·É™·Éú·Éò·Éî·É†·Éî·Éë·Éò·É° ·Éî·Éú·Éê...'
                    },
                    {
                        id: 'deep-learning',
                        title: '·É¶·É†·Éõ·Éê ·É°·É¨·Éê·Éï·Éö·Éî·Éë·Éê Python-·Éò·Éó',
                        author: '·É§·É†·Éê·Éú·É°·É£·Éê ·É®·Éù·Éö·Éî',
                        price: 44.99,
                        category: 'ai',
                        level: 'advanced',
                        rating: 4.8,
                        reviews: 445,
                        pages: 384,
                        description: '·Éú·Éî·Éò·É†·Éù·Éú·É£·Éö·Éò ·É•·É°·Éî·Éö·Éî·Éë·Éò ·Éì·Éê ·É¶·É†·Éõ·Éê ·É°·É¨·Éê·Éï·Éö·Éî·Éë·Éê Keras-·Éò·Éó.',
                        image: 'https://images.unsplash.com/photo-1677442136019-21780ecad995?w=400&h=600&fit=crop',
                        badges: ['new'],
                        preview: '·É¶·É†·Éõ·Éê ·É°·É¨·Éê·Éï·Éö·Éî·Éë·Éê ·Éê·É†·Éò·É° ·Éõ·Éê·Éú·É•·Éê·Éú·É£·É†·Éò ·É°·É¨·Éê·Éï·Éö·Éî·Éë·Éò·É° ·É•·Éï·Éî·Éì·Éê·É†·Éí·Éò...'
                    },
                    {
                        id: 'flutter-guide',
                        title: 'Flutter: ·É°·É†·É£·Éö·Éò ·É°·Éê·ÉÆ·Éî·Éö·Éõ·É´·É¶·Éï·Éê·Éú·Éî·Éö·Éù',
                        author: '·Éõ·Éê·É†·Éô·Éù ·É°·Éê·Éö·Éï·Éê·É¢·Éù·É†·Éî',
                        price: 0,
                        category: 'mobile',
                        level: 'beginner',
                        rating: 4.5,
                        reviews: 312,
                        pages: 420,
                        description: '·É®·Éî·É•·Éõ·Éî·Éú·Éò ·Éõ·É®·Éï·Éî·Éú·Éò·Éî·É†·Éò ·Éõ·Éù·Éë·Éò·Éö·É£·É†·Éò ·Éê·Éû·Éö·Éò·Éô·Éê·É™·Éò·Éî·Éë·Éò Flutter-·Éò·Éó.',
                        image: 'https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?w=400&h=600&fit=crop',
                        badges: ['free', 'new'],
                        preview: 'Flutter ·Éê·É†·Éò·É° Google-·Éò·É° UI toolkit...'
                    },
                    {
                        id: 'kubernetes',
                        title: 'Kubernetes ·É¨·Éê·É†·Éõ·Éù·Éî·Éë·Éê·É®·Éò',
                        author: '·Éë·É†·Éî·Éú·Éì·Éê·Éú ·Éë·Éî·É†·Éú·É°·Éò',
                        price: 49.99,
                        category: 'devops',
                        level: 'advanced',
                        rating: 4.6,
                        reviews: 234,
                        pages: 298,
                        description: '·Éô·Éù·Éú·É¢·Éî·Éò·Éú·Éî·É†·Éî·Éë·Éò·É° ·Éù·É†·Éô·Éî·É°·É¢·É†·Éê·É™·Éò·Éê ·Éû·É†·Éù·É§·Éî·É°·Éò·Éù·Éú·Éê·Éö·É£·É† ·Éì·Éù·Éú·Éî·Éñ·Éî.',
                        image: 'https://images.unsplash.com/photo-1667372393119-3d4c48d07fc9?w=400&h=600&fit=crop',
                        badges: ['popular'],
                        preview: 'Kubernetes ·Éê·É†·Éò·É° ·Éô·Éù·Éú·É¢·Éî·Éò·Éú·Éî·É†·Éî·Éë·Éò·É° ·Éù·É†·Éô·Éî·É°·É¢·É†·Éê·É™·Éò·Éò·É° ·Éû·Éö·Éê·É¢·É§·Éù·É†·Éõ·Éê...'
                    },
                    {
                        id: 'algorithms-intro',
                        title: '·Éê·Éö·Éí·Éù·É†·Éò·Éó·Éõ·Éî·Éë·Éò·É° ·É®·Éî·É°·Éê·Éï·Éê·Éö·Éò',
                        author: '·Éó·Éù·Éõ·Éê·É° ·Éô·Éù·É†·Éõ·Éî·Éú·Éò',
                        price: 54.99,
                        originalPrice: 69.99,
                        category: 'algorithms',
                        level: 'intermediate',
                        rating: 4.9,
                        reviews: 1567,
                        pages: 1312,
                        description: '·Éô·Éö·Éê·É°·Éò·Éô·É£·É†·Éò ·É°·Éê·ÉÆ·Éî·Éö·Éõ·É´·É¶·Éï·Éê·Éú·Éî·Éö·Éù ·Éê·Éö·Éí·Éù·É†·Éò·Éó·Éõ·Éî·Éë·É°·Éê ·Éì·Éê ·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éó·Éê ·É°·É¢·É†·É£·É•·É¢·É£·É†·Éî·Éë·Éñ·Éî.',
                        image: 'https://images.unsplash.com/photo-1509228468518-180dd4864904?w=400&h=600&fit=crop',
                        badges: ['popular'],
                        preview: '·Éê·Éö·Éí·Éù·É†·Éò·Éó·Éõ·Éò ·Éê·É†·Éò·É° ·Éí·Éê·Éõ·Éù·Éó·Éï·Éö·Éò·Éó·Éò ·Éû·É†·Éù·É™·Éî·Éì·É£·É†·Éê...'
                    }
                ];
            }

            saveData() {
                localStorage.setItem('bp_user', JSON.stringify(this.state.user));
                localStorage.setItem('bp_cart', JSON.stringify(this.state.cart));
                localStorage.setItem('bp_chat', JSON.stringify(this.state.chatMessages));
            }

            // ===== Event Listeners =====
            setupEventListeners() {
                // Navigation
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const page = link.dataset.page;
                        this.navigate(page);
                    });
                });

                // Auth button
                document.getElementById('authBtn').addEventListener('click', () => {
                    if (this.state.user) {
                        this.logout();
                    } else {
                        this.showLoginModal();
                    }
                });

                // Cart button
                document.getElementById('cartBtn').addEventListener('click', () => this.showCart());

                // Chat button
                document.getElementById('chatBtn').addEventListener('click', () => this.toggleChat());

                // Search
                document.getElementById('searchInput').addEventListener('input', (e) => {
                    this.state.filters.search = e.target.value;
                    this.renderBooks();
                });

                // Filters
                ['filterCategory', 'filterPrice', 'filterLevel', 'filterSort'].forEach(id => {
                    document.getElementById(id)?.addEventListener('change', (e) => {
                        const key = id.replace('filter', '').toLowerCase();
                        this.state.filters[key] = e.target.value;
                        this.renderBooks();
                    });
                });

                // Chat input
                document.getElementById('chatInput')?.addEventListener('keypress', (e) => {
                    if (e.key === 'Enter' && !e.shiftKey) {
                        e.preventDefault();
                        this.sendMessage();
                    }
                });

                // Modal close
                document.getElementById('modalOverlay').addEventListener('click', (e) => {
                    if (e.target === e.currentTarget) this.closeModal();
                });

                // Mobile menu
                document.getElementById('mobileMenuBtn').addEventListener('click', () => {
                    document.getElementById('navMenu').classList.toggle('active');
                });

                // Header scroll
                window.addEventListener('scroll', () => {
                    document.getElementById('header').classList.toggle('scrolled', window.scrollY > 50);
                });

                // Admin menu
                document.querySelectorAll('.admin-menu-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        document.querySelectorAll('.admin-menu-link').forEach(l => l.classList.remove('active'));
                        link.classList.add('active');
                        this.renderAdminSection(link.dataset.section);
                    });
                });

                // Escape key
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') this.closeModal();
                });
            }

            // ===== Navigation =====
            navigate(page) {
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));

                document.getElementById(page + 'Page')?.classList.add('active');
                document.querySelector(`.nav-link[data-page="${page}"]`)?.classList.add('active');

                window.scrollTo({ top: 0, behavior: 'smooth' });

                if (page === 'admin' && this.state.user?.role === 'admin') {
                    this.renderAdminSection('dashboard');
                }
            }

            // ===== Render Functions =====
            renderBooks() {
                const grid = document.getElementById('booksGrid');
                if (!grid) return;

                let books = [...this.state.books];

                // Apply filters
                if (this.state.filters.category !== 'all') {
                    books = books.filter(b => b.category === this.state.filters.category);
                }
                if (this.state.filters.price === 'free') {
                    books = books.filter(b => b.price === 0);
                } else if (this.state.filters.price === 'paid') {
                    books = books.filter(b => b.price > 0);
                }
                if (this.state.filters.level !== 'all') {
                    books = books.filter(b => b.level === this.state.filters.level);
                }
                if (this.state.filters.search) {
                    const search = this.state.filters.search.toLowerCase();
                    books = books.filter(b => 
                        b.title.toLowerCase().includes(search) || 
                        b.author.toLowerCase().includes(search)
                    );
                }

                // Sort
                switch(this.state.filters.sort) {
                    case 'newest': books.sort((a, b) => b.id.localeCompare(a.id)); break;
                    case 'rating': books.sort((a, b) => b.rating - a.rating); break;
                    case 'price-low': books.sort((a, b) => a.price - b.price); break;
                    case 'price-high': books.sort((a, b) => b.price - a.price); break;
                    default: books.sort((a, b) => b.reviews - a.reviews);
                }

                if (books.length === 0) {
                    grid.innerHTML = `
                        <div style="grid-column: 1/-1; text-align: center; padding: 60px 20px;">
                            <span class="material-symbols-rounded" style="font-size: 64px; color: var(--text-muted);">search_off</span>
                            <h3 style="margin: 16px 0 8px; color: var(--text-primary);">·É¨·Éò·Éí·Éú·Éî·Éë·Éò ·Éï·Éî·É† ·Éõ·Éù·Éò·É´·Éî·Éë·Éú·Éê</h3>
                            <p style="color: var(--text-secondary);">·É°·É™·Éê·Éì·Éî ·É°·ÉÆ·Éï·Éê ·É§·Éò·Éö·É¢·É†·Éî·Éë·Éò·É° ·Éí·Éê·Éõ·Éù·Éß·Éî·Éú·Éî·Éë·Éê</p>
                        </div>
                    `;
                    return;
                }

                grid.innerHTML = books.map(book => this.renderBookCard(book)).join('');
            }

            renderBookCard(book) {
                const categoryNames = {
                    web: '·Éï·Éî·Éë ·Éì·Éî·Éï·Éî·Éö·Éù·Éû·Éõ·Éî·Éú·É¢·Éò',
                    mobile: '·Éõ·Éù·Éë·Éò·Éö·É£·É†·Éò',
                    data: '·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·Éò',
                    ai: 'AI & ML',
                    devops: 'DevOps',
                    algorithms: '·Éê·Éö·Éí·Éù·É†·Éò·Éó·Éõ·Éî·Éë·Éò'
                };

                return `
                    <article class="book-card">
                        <div class="book-cover">
                            <img src="${book.image}" alt="${book.title}" loading="lazy">
                            <div class="book-badges">
                                ${book.badges?.includes('free') ? '<span class="book-badge free">·É£·É§·Éê·É°·Éù</span>' : ''}
                                ${book.badges?.includes('new') ? '<span class="book-badge new">·Éê·ÉÆ·Éê·Éö·Éò</span>' : ''}
                                ${book.badges?.includes('popular') ? '<span class="book-badge popular">·Éû·Éù·Éû·É£·Éö·Éê·É†·É£·Éö·Éò</span>' : ''}
                            </div>
                        </div>
                        <div class="book-info">
                            <span class="book-category">${categoryNames[book.category] || book.category}</span>
                            <h3 class="book-title">${book.title}</h3>
                            <div class="book-author">
                                <span class="material-symbols-rounded">person</span>
                                ${book.author}
                            </div>
                            <p class="book-description">${book.description}</p>
                            <div class="book-meta">
                                <div class="book-rating">
                                    <span class="material-symbols-rounded">star</span>
                                    ${book.rating}
                                    <span style="color: var(--text-muted); font-weight: 400;">(${book.reviews})</span>
                                </div>
                                <span class="book-pages">${book.pages} ·Éí·Éï·Éî·É†·Éì·Éò</span>
                            </div>
                            <div class="book-price-row">
                                <div>
                                    <span class="book-price ${book.price === 0 ? 'free' : ''}">${book.price === 0 ? '·É£·É§·Éê·É°·Éù' : '$' + book.price.toFixed(2)}</span>
                                    ${book.originalPrice ? `<span class="book-original-price">$${book.originalPrice.toFixed(2)}</span>` : ''}
                                </div>
                            </div>
                            <div class="book-actions">
                                <button class="btn btn-primary btn-sm" onclick="app.buyBook('${book.id}')">
                                    <span class="material-symbols-rounded">shopping_cart</span>
                                    ·Éß·Éò·Éì·Éï·Éê
                                </button>
                                <button class="btn btn-secondary btn-sm" onclick="app.addToCart('${book.id}')">
                                    <span class="material-symbols-rounded">add</span>
                                    ·Éô·Éê·Éö·Éê·Éó·Éê·É®·Éò
                                </button>
                                <button class="btn btn-ghost btn-sm btn-preview" onclick="app.previewBook('${book.id}')">
                                    <span class="material-symbols-rounded">visibility</span>
                                    ·Éí·Éê·Éì·Éê·ÉÆ·Éî·Éì·Éï·Éê
                                </button>
                            </div>
                        </div>
                    </article>
                `;
            }

            renderCategories() {
                const grid = document.getElementById('categoriesGrid');
                if (!grid) return;

                const categories = [
                    { id: 'web', name: '·Éï·Éî·Éë ·Éì·Éî·Éï·Éî·Éö·Éù·Éû·Éõ·Éî·Éú·É¢·Éò', icon: 'code', description: 'HTML, CSS, JavaScript, React, Vue', count: this.state.books.filter(b => b.category === 'web').length },
                    { id: 'mobile', name: '·Éõ·Éù·Éë·Éò·Éö·É£·É†·Éò ·Éê·Éû·Éî·Éë·Éò', icon: 'smartphone', description: 'iOS, Android, Flutter, React Native', count: this.state.books.filter(b => b.category === 'mobile').length },
                    { id: 'data', name: '·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éó·Éê ·Éõ·Éî·É™·Éú·Éò·Éî·É†·Éî·Éë·Éê', icon: 'analytics', description: 'Python, R, SQL, Pandas', count: this.state.books.filter(b => b.category === 'data').length },
                    { id: 'ai', name: '·ÉÆ·Éî·Éö·Éù·Éï·Éú·É£·É†·Éò ·Éò·Éú·É¢·Éî·Éö·Éî·É•·É¢·Éò', icon: 'psychology', description: 'Machine Learning, Deep Learning', count: this.state.books.filter(b => b.category === 'ai').length },
                    { id: 'devops', name: 'DevOps', icon: 'cloud', description: 'Docker, Kubernetes, CI/CD', count: this.state.books.filter(b => b.category === 'devops').length },
                    { id: 'algorithms', name: '·Éê·Éö·Éí·Éù·É†·Éò·Éó·Éõ·Éî·Éë·Éò', icon: 'functions', description: '·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éó·Éê ·É°·É¢·É†·É£·É•·É¢·É£·É†·Éî·Éë·Éò, ·Éê·Éö·Éí·Éù·É†·Éò·Éó·Éõ·Éî·Éë·Éò', count: this.state.books.filter(b => b.category === 'algorithms').length }
                ];

                grid.innerHTML = categories.map(cat => `
                    <div class="category-card" onclick="app.filterByCategory('${cat.id}')">
                        <div class="category-icon">
                            <span class="material-symbols-rounded">${cat.icon}</span>
                        </div>
                        <h3 class="category-name">${cat.name}</h3>
                        <p class="category-description">${cat.description}</p>
                        <span class="category-count">${cat.count} ·É¨·Éò·Éí·Éú·Éò</span>
                    </div>
                `).join('');
            }

            renderFAQ() {
                const container = document.getElementById('faqContainer');
                if (!container) return;

                const faqs = [
                    { q: '·É†·Éù·Éí·Éù·É† ·É®·Éî·Éï·Éò·É´·Éò·Éú·Éù ·É¨·Éò·Éí·Éú·Éò?', a: '·Éì·Éê·Éê·Éó·Éï·Éê·Éö·Éò·Éî·É†·Éî ·Éô·Éù·Éö·Éî·É•·É™·Éò·Éê, ·Éì·Éê·Éê·É≠·Éò·É†·Éî "·Éß·Éò·Éì·Éï·Éê" ·É¶·Éò·Éö·Éê·Éô·É° ·Éì·Éê ·É®·Éî·Éê·Éï·É°·Éî ·Éí·Éê·Éì·Éê·ÉÆ·Éì·Éò·É° ·É§·Éù·É†·Éõ·Éê. ·É£·É§·Éê·É°·Éù ·É¨·Éò·Éí·Éú·Éî·Éë·Éò·É° ·É®·Éî·Éõ·Éó·ÉÆ·Éï·Éî·Éï·Éê·É®·Éò, ·Éû·Éò·É†·Éì·Éê·Éû·Éò·É† ·Éì·Éê·Éî·Éõ·Éê·É¢·Éî·Éë·Éê ·É®·Éî·Éú·É° ·Éë·Éò·Éë·Éö·Éò·Éù·Éó·Éî·Éô·Éê·É°.' },
                    { q: '·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·É¨·Éò·Éí·Éú·Éî·Éë·Éò·É° ·É¨·Éê·Éô·Éò·Éó·ÉÆ·Éï·Éê ·É°·ÉÆ·Éï·Éê·Éì·Éê·É°·ÉÆ·Éï·Éê ·Éõ·Éù·É¨·Éß·Éù·Éë·Éò·Éö·Éù·Éë·Éî·Éë·Éñ·Éî?', a: '·Éì·Éò·Éê·ÉÆ! ·É®·Éî·É´·Éî·Éú·Éò·É° ·É®·Éî·Éõ·Éì·Éî·Éí, ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·É¨·Éò·Éí·Éú·Éî·Éë·Éò ·É¨·Éê·Éò·Éô·Éò·Éó·ÉÆ·Éù ·Éú·Éî·Éë·Éò·É°·Éõ·Éò·Éî·É†·Éò ·Éõ·Éù·É¨·Éß·Éù·Éë·Éò·Éö·Éù·Éë·Éò·Éì·Éê·Éú - ·Éô·Éù·Éõ·Éû·Éò·É£·É¢·Éî·É†·Éò, ·É¢·Éê·Éë·Éö·Éî·É¢·Éò ·Éê·Éú ·É¢·Éî·Éö·Éî·É§·Éù·Éú·Éò.' },
                    { q: '·É†·Éê ·Éí·Éê·Éì·Éê·ÉÆ·Éì·Éò·É° ·Éõ·Éî·Éó·Éù·Éì·Éî·Éë·É° ·Éò·É¶·Éî·Éë·Éó?', a: '·É©·Éï·Éî·Éú ·Éï·Éò·É¶·Éî·Éë·Éó ·Éß·Éï·Éî·Éö·Éê ·É´·Éò·É†·Éò·Éó·Éê·Éì ·É°·Éê·Éô·É†·Éî·Éì·Éò·É¢·Éù ·Éë·Éê·É†·Éê·Éó·É° (Visa, MasterCard), PayPal-·É° ·Éì·Éê ·É°·Éê·Éë·Éê·Éú·Éô·Éù ·Éí·Éê·Éì·Éê·É†·Éò·É™·ÉÆ·Éï·Éê·É°.' },
                    { q: '·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éó·Éê·Éú·ÉÆ·Éò·É° ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê?', a: '·Éì·Éò·Éê·ÉÆ, 30 ·Éì·É¶·Éò·É° ·Éí·Éê·Éú·Éõ·Éê·Éï·Éö·Éù·Éë·Éê·É®·Éò ·É®·Éî·Éí·Éò·É´·Éö·Éò·Éê ·Éõ·Éù·Éò·Éó·ÉÆ·Éù·Éï·Éù ·Éó·Éê·Éú·ÉÆ·Éò·É° ·É°·É†·É£·Éö·Éò ·Éì·Éê·Éë·É†·É£·Éú·Éî·Éë·Éê, ·Éó·É£ ·É¨·Éò·Éí·Éú·Éò ·Éê·É† ·Éõ·Éù·Éí·Éî·É¨·Éù·Éú·Éê.' },
                    { q: '·É†·Éê ·É§·Éù·É†·Éõ·Éê·É¢·É®·Éò ·Éê·É†·Éò·É° ·É¨·Éò·Éí·Éú·Éî·Éë·Éò?', a: '·É¨·Éò·Éí·Éú·Éî·Éë·Éò ·ÉÆ·Éî·Éö·Éõ·Éò·É°·Éê·É¨·Éï·Éì·Éù·Éõ·Éò·Éê PDF ·Éì·Éê EPUB ·É§·Éù·É†·Éõ·Éê·É¢·Éî·Éë·É®·Éò, ·É†·Éê·É™ ·É°·Éê·É®·É£·Éê·Éö·Éî·Éë·Éê·É° ·Éí·Éê·É´·Éö·Éî·Éï·É° ·É¨·Éê·Éò·Éô·Éò·Éó·ÉÆ·Éù ·Éú·Éî·Éë·Éò·É°·Éõ·Éò·Éî·É† ·Éõ·Éù·É¨·Éß·Éù·Éë·Éò·Éö·Éù·Éë·Éê·Éñ·Éî.' }
                ];

                container.innerHTML = faqs.map((faq, i) => `
                    <div class="faq-item" onclick="this.classList.toggle('active')">
                        <div class="faq-question">
                            <span>${faq.q}</span>
                            <span class="material-symbols-rounded">expand_more</span>
                        </div>
                        <div class="faq-answer">${faq.a}</div>
                    </div>
                `).join('');
            }

            renderProfile() {
                const section = document.getElementById('profileSection');
                if (!section) return;

                if (!this.state.user) {
                    section.innerHTML = `
                        <div style="text-align: center; padding: 60px 20px;">
                            <span class="material-symbols-rounded" style="font-size: 80px; color: var(--text-muted);">person_off</span>
                            <h3 style="margin: 20px 0 12px; color: var(--text-primary);">·É®·Éî·É°·Éï·Éö·Éê ·É°·Éê·É≠·Éò·É†·Éù·Éê</h3>
                            <p style="color: var(--text-secondary); margin-bottom: 24px;">·Éû·É†·Éù·É§·Éò·Éö·Éò·É° ·É°·Éê·Éú·Éê·ÉÆ·Éê·Éï·Éê·Éì ·Éí·Éó·ÉÆ·Éù·Éï·Éó ·É®·Éî·ÉÆ·Éï·Éò·Éì·Éî·Éó ·É°·Éò·É°·É¢·Éî·Éõ·Éê·É®·Éò</p>
                            <button class="btn btn-primary" onclick="app.showLoginModal()">
                                <span class="material-symbols-rounded">login</span>
                                ·É®·Éî·É°·Éï·Éö·Éê
                            </button>
                        </div>
                    `;
                    return;
                }

                section.innerHTML = `
                    <div class="profile-header">
                        <div class="profile-avatar" onclick="app.uploadAvatar()">
                            ${this.state.user.avatar 
                                ? `<img src="${this.state.user.avatar}" alt="Avatar">`
                                : `<div class="profile-avatar-placeholder"><span class="material-symbols-rounded">person</span></div>`
                            }
                            <div class="profile-avatar-edit">
                                <span class="material-symbols-rounded">photo_camera</span>
                            </div>
                        </div>
                        <h2 class="profile-name">${this.state.user.name}</h2>
                        <span class="profile-role">
                            <span class="material-symbols-rounded">${this.state.user.role === 'admin' ? 'admin_panel_settings' : 'person'}</span>
                            ${this.state.user.role === 'admin' ? '·Éê·Éì·Éõ·Éò·Éú·Éò·É°·É¢·É†·Éê·É¢·Éù·É†·Éò' : '·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éî·Éö·Éò'}
                        </span>
                    </div>

                    <div class="profile-card">
                        <div class="profile-row">
                            <span class="profile-label">
                                <span class="material-symbols-rounded">mail</span>
                                ·Éî·Éö-·É§·Éù·É°·É¢·Éê
                            </span>
                            <span class="profile-value">${this.state.user.email}</span>
                        </div>
                        <div class="profile-row">
                            <span class="profile-label">
                                <span class="material-symbols-rounded">phone</span>
                                ·É¢·Éî·Éö·Éî·É§·Éù·Éú·Éò
                            </span>
                            <span class="profile-value">${this.state.user.phone || '·Éê·É† ·Éê·É†·Éò·É° ·Éõ·Éò·Éó·Éò·Éó·Éî·Éë·É£·Éö·Éò'}</span>
                        </div>
                        <div class="profile-row">
                            <span class="profile-label">
                                <span class="material-symbols-rounded">library_books</span>
                                ·É®·Éî·É´·Éî·Éú·Éò·Éö·Éò ·É¨·Éò·Éí·Éú·Éî·Éë·Éò
                            </span>
                            <span class="profile-value" style="color: var(--accent-primary);">${this.state.user.purchasedBooks?.length || 0}</span>
                        </div>
                    </div>

                    <div class="profile-actions">
                        <button class="btn btn-secondary" onclick="app.showEditProfileModal()">
                            <span class="material-symbols-rounded">edit</span>
                            ·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê
                        </button>
                        <button class="btn btn-primary" onclick="app.showMyBooks()">
                            <span class="material-symbols-rounded">auto_stories</span>
                            ·É©·Éî·Éõ·Éò ·É¨·Éò·Éí·Éú·Éî·Éë·Éò
                        </button>
                    </div>
                `;
            }

            renderAdminSection(section) {
                const content = document.getElementById('adminContent');
                if (!content) return;

                switch(section) {
                    case 'dashboard':
                        content.innerHTML = `
                            <h3 style="margin-bottom: 24px;">·Éõ·Éò·Éõ·Éù·ÉÆ·Éò·Éö·Éï·Éê</h3>
                            <div class="admin-stats">
                                <div class="admin-stat-card">
                                    <div class="admin-stat-value">${this.state.books.length}</div>
                                    <div class="admin-stat-label">·É¨·Éò·Éí·Éú·Éî·Éë·Éò</div>
                                </div>
                                <div class="admin-stat-card">
                                    <div class="admin-stat-value">156</div>
                                    <div class="admin-stat-label">·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éö·Éî·Éë·Éò</div>
                                </div>
                                <div class="admin-stat-card">
                                    <div class="admin-stat-value">89</div>
                                    <div class="admin-stat-label">·É®·Éî·Éô·Éï·Éî·Éó·Éî·Éë·Éò</div>
                                </div>
                                <div class="admin-stat-card">
                                    <div class="admin-stat-value">$4,280</div>
                                    <div class="admin-stat-label">·É®·Éî·Éõ·Éù·É°·Éê·Éï·Éê·Éö·Éò</div>
                                </div>
                            </div>
                        `;
                        break;
                    case 'books':
                        content.innerHTML = `
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
                                <h3>·É¨·Éò·Éí·Éú·Éî·Éë·Éò·É° ·Éõ·Éê·É†·Éó·Éï·Éê</h3>
                                <button class="btn btn-primary btn-sm" onclick="app.showAddBookModal()">
                                    <span class="material-symbols-rounded">add</span>
                                    ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê
                                </button>
                            </div>
                            <div style="display: flex; flex-direction: column; gap: 12px;">
                                ${this.state.books.map(book => `
                                    <div style="display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--bg-elevated); border-radius: var(--radius-md);">
                                        <img src="${book.image}" style="width: 50px; height: 70px; object-fit: cover; border-radius: var(--radius-sm);">
                                        <div style="flex: 1;">
                                            <div style="font-weight: 600;">${book.title}</div>
                                            <div style="font-size: 0.85rem; color: var(--text-secondary);">${book.author}</div>
                                        </div>
                                        <div style="color: var(--accent-primary); font-weight: 600;">${book.price === 0 ? '·É£·É§·Éê·É°·Éù' : '$' + book.price}</div>
                                        <button class="btn btn-ghost btn-sm" onclick="app.editBook('${book.id}')">
                                            <span class="material-symbols-rounded">edit</span>
                                        </button>
                                        <button class="btn btn-ghost btn-sm" style="color: var(--accent-error);" onclick="app.deleteBook('${book.id}')">
                                            <span class="material-symbols-rounded">delete</span>
                                        </button>
                                    </div>
                                `).join('')}
                            </div>
                        `;
                        break;
                    case 'users':
                        content.innerHTML = `
                            <h3 style="margin-bottom: 24px;">·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éö·Éî·Éë·Éò·É° ·Éõ·Éê·É†·Éó·Éï·Éê</h3>
                            <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                                ·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éö·Éî·Éë·Éò·É° ·É°·Éò·Éê ·Éò·É¢·Éï·Éò·É†·Éó·Éî·Éë·Éê...
                            </div>
                        `;
                        break;
                    case 'orders':
                        content.innerHTML = `
                            <h3 style="margin-bottom: 24px;">·É®·Éî·Éô·Éï·Éî·Éó·Éî·Éë·Éò·É° ·Éõ·Éê·É†·Éó·Éï·Éê</h3>
                            <div style="text-align: center; padding: 40px; color: var(--text-secondary);">
                                ·É®·Éî·Éô·Éï·Éî·Éó·Éî·Éë·Éò·É° ·É°·Éò·Éê ·Éò·É¢·Éï·Éò·É†·Éó·Éî·Éë·Éê...
                            </div>
                        `;
                        break;
                }
            }

            // ===== UI Updates =====
            updateUI() {
                // Auth button
                const authBtn = document.getElementById('authBtn');
                authBtn.textContent = this.state.user ? '·Éí·Éê·Éõ·Éù·É°·Éï·Éö·Éê' : '·É®·Éî·É°·Éï·Éö·Éê';

                // Admin link
                const adminLink = document.getElementById('adminNavLink');
                adminLink.style.display = this.state.user?.role === 'admin' ? 'flex' : 'none';

                // Cart badge
                this.updateCartBadge();
            }

            updateCartBadge() {
                const badge = document.getElementById('cartBadge');
                const count = this.state.cart.reduce((sum, item) => sum + (item.quantity || 1), 0);
                badge.textContent = count;
                badge.style.display = count > 0 ? 'flex' : 'none';
            }

            // ===== Modal Functions =====
            openModal(content) {
                const overlay = document.getElementById('modalOverlay');
                overlay.innerHTML = content;
                overlay.classList.add('active');
            }

            closeModal() {
                document.getElementById('modalOverlay').classList.remove('active');
            }

            showLoginModal() {
                this.openModal(`
                    <div class="modal">
                        <div class="modal-header">
                            <h3 class="modal-title">
                                <span class="material-symbols-rounded">login</span>
                                ·É®·Éî·É°·Éï·Éö·Éê
                            </h3>
                            <button class="modal-close" onclick="app.closeModal()">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form onsubmit="app.handleLogin(event)">
                                <div class="form-group">
                                    <label class="form-label">·Éî·Éö-·É§·Éù·É°·É¢·Éê / ·Éõ·Éù·Éõ·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éî·Éö·Éò</label>
                                    <input type="text" class="form-input" id="loginEmail" required placeholder="·Éó·É•·Éï·Éî·Éú·Éò ·Éî·Éö-·É§·Éù·É°·É¢·Éê">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">·Éû·Éê·É†·Éù·Éö·Éò</label>
                                    <input type="password" class="form-input" id="loginPassword" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                                </div>
                                <div class="form-actions" style="flex-direction: column;">
                                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                                        <span class="material-symbols-rounded">login</span>
                                        ·É®·Éî·É°·Éï·Éö·Éê
                                    </button>
                                    <button type="button" class="btn btn-ghost" onclick="app.showRegisterModal()" style="width: 100%;">
                                        ·Éê·Éú·Éí·Éê·É†·Éò·É®·Éò·É° ·É®·Éî·É•·Éõ·Éú·Éê
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                `);
            }

            showRegisterModal() {
                this.openModal(`
                    <div class="modal">
                        <div class="modal-header">
                            <h3 class="modal-title">
                                <span class="material-symbols-rounded">person_add</span>
                                ·É†·Éî·Éí·Éò·É°·É¢·É†·Éê·É™·Éò·Éê
                            </h3>
                            <button class="modal-close" onclick="app.closeModal()">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form onsubmit="app.handleRegister(event)">
                                <div class="form-group">
                                    <label class="form-label">·É°·Éê·ÉÆ·Éî·Éö·Éò ·Éì·Éê ·Éí·Éï·Éê·É†·Éò</label>
                                    <input type="text" class="form-input" id="regName" required placeholder="·Éõ·Éê·Éí: ·Éí·Éò·Éù·É†·Éí·Éò ·Éõ·Éê·Éõ·Éê·É†·Éì·Éê·É®·Éï·Éò·Éö·Éò">
                                </div>
                                <div class="form-group">
                                    <label class="form-label">·Éî·Éö-·É§·Éù·É°·É¢·Éê</label>
                                    <input type="email" class="form-input" id="regEmail" required placeholder="·Éõ·Éê·Éí: giorgi@example.com">
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">·É¢·Éî·Éö·Éî·É§·Éù·Éú·Éò</label>
                                        <input type="tel" class="form-input" id="regPhone" placeholder="+995 xxx xxx xxx">
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">·Éê·É°·Éê·Éô·Éò</label>
                                        <input type="number" class="form-input" id="regAge" min="13" max="120" placeholder="25">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">·Éû·Éê·É†·Éù·Éö·Éò</label>
                                    <input type="password" class="form-input" id="regPassword" required placeholder="·Éõ·Éò·Éú. 6 ·É°·Éò·Éõ·Éë·Éù·Éö·Éù">
                                </div>
                                <div class="form-actions" style="flex-direction: column;">
                                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                                        <span class="material-symbols-rounded">person_add</span>
                                        ·É†·Éî·Éí·Éò·É°·É¢·É†·Éê·É™·Éò·Éê
                                    </button>
                                    <button type="button" class="btn btn-ghost" onclick="app.showLoginModal()" style="width: 100%;">
                                        ·É£·Éô·Éï·Éî ·Éí·Éê·É•·Éï·Éó ·Éê·Éú·Éí·Éê·É†·Éò·É®·Éò?
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                `);
            }

            // ===== Auth Functions =====
            handleLogin(e) {
                e.preventDefault();
                const email = document.getElementById('loginEmail').value.trim();
                const password = document.getElementById('loginPassword').value;

                // Admin login
                if (email === 'better' && password === 'tweekex15') {
                    this.state.user = {
                        id: 'admin-1',
                        name: '·Éê·Éì·Éõ·Éò·Éú·Éò·É°·É¢·É†·Éê·É¢·Éù·É†·Éò',
                        email: 'better',
                        role: 'admin',
                        purchasedBooks: []
                    };
                    this.saveData();
                    this.updateUI();
                    this.renderProfile();
                    this.closeModal();
                    this.toast('·Éõ·Éù·Éí·Éî·É°·Éê·Éö·Éõ·Éî·Éë·Éò·Éó, ·Éê·Éì·Éõ·Éò·Éú·Éò·É°·É¢·É†·Éê·É¢·Éù·É†·Éù!', 'success');
                    return;
                }

                // Regular user login
                this.state.user = {
                    id: 'user-' + Date.now(),
                    name: email.split('@')[0],
                    email: email,
                    role: 'user',
                    purchasedBooks: []
                };
                this.saveData();
                this.updateUI();
                this.renderProfile();
                this.closeModal();
                this.toast('·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó ·É®·Éî·ÉÆ·Éï·Éî·Éì·Éò·Éó!', 'success');
            }

            handleRegister(e) {
                e.preventDefault();
                const name = document.getElementById('regName').value.trim();
                const email = document.getElementById('regEmail').value.trim();
                const phone = document.getElementById('regPhone').value.trim();
                const age = document.getElementById('regAge').value;
                const password = document.getElementById('regPassword').value;

                if (password.length < 6) {
                    this.toast('·Éû·Éê·É†·Éù·Éö·Éò ·É£·Éú·Éì·Éê ·Éò·Éß·Éù·É° ·Éõ·Éò·Éú. 6 ·É°·Éò·Éõ·Éë·Éù·Éö·Éù', 'error');
                    return;
                }

                this.state.user = {
                    id: 'user-' + Date.now(),
                    name,
                    email,
                    phone,
                    age: parseInt(age),
                    role: 'user',
                    purchasedBooks: []
                };
                this.saveData();
                this.updateUI();
                this.renderProfile();
                this.closeModal();
                this.toast('·Éê·Éú·Éí·Éê·É†·Éò·É®·Éò ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó ·É®·Éî·Éò·É•·Éõ·Éú·Éê!', 'success');
            }

            logout() {
                this.state.user = null;
                localStorage.removeItem('bp_user');
                this.updateUI();
                this.renderProfile();
                this.navigate('home');
                this.toast('·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó ·Éí·Éê·Éõ·Éù·ÉÆ·Éï·Éî·Éì·Éò·Éó', 'success');
            }

            // ===== Book Functions =====
            addToCart(bookId) {
                const book = this.state.books.find(b => b.id === bookId);
                if (!book) return;

                const existingItem = this.state.cart.find(item => item.id === bookId);
                if (existingItem) {
                    existingItem.quantity = (existingItem.quantity || 1) + 1;
                } else {
                    this.state.cart.push({ ...book, quantity: 1 });
                }

                this.saveData();
                this.updateCartBadge();
                this.toast(`"${book.title}" ·Éì·Éê·Éî·Éõ·Éê·É¢·Éê ·Éô·Éê·Éö·Éê·Éó·Éê·É®·Éò`, 'success');
            }

            buyBook(bookId) {
                const book = this.state.books.find(b => b.id === bookId);
                if (!book) return;

                if (!this.state.user) {
                    this.showLoginModal();
                    return;
                }

                if (book.price === 0) {
                    // Free book - add directly to library
                    if (!this.state.user.purchasedBooks) this.state.user.purchasedBooks = [];
                    if (!this.state.user.purchasedBooks.includes(bookId)) {
                        this.state.user.purchasedBooks.push(bookId);
                        this.saveData();
                        this.toast(`"${book.title}" ·Éì·Éê·Éî·Éõ·Éê·É¢·Éê ·Éó·É•·Éï·Éî·Éú·É° ·Éë·Éò·Éë·Éö·Éò·Éù·Éó·Éî·Éô·Éê·É°!`, 'success');
                    } else {
                        this.toast('·Éî·É° ·É¨·Éò·Éí·Éú·Éò ·É£·Éô·Éï·Éî ·Éí·Éê·É•·Éï·Éó', 'warning');
                    }
                } else {
                    this.showCheckoutModal(book);
                }
            }

            showCheckoutModal(book) {
                this.openModal(`
                    <div class="modal">
                        <div class="modal-header">
                            <h3 class="modal-title">
                                <span class="material-symbols-rounded">shopping_cart</span>
                                ·É®·Éî·É´·Éî·Éú·Éê
                            </h3>
                            <button class="modal-close" onclick="app.closeModal()">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div style="text-align: center; margin-bottom: 24px;">
                                <img src="${book.image}" style="width: 120px; border-radius: var(--radius-md); box-shadow: var(--shadow-lg);">
                                <h4 style="margin: 16px 0 8px;">${book.title}</h4>
                                <p style="color: var(--text-secondary);">${book.author}</p>
                                <div style="font-size: 1.5rem; font-weight: 700; color: var(--accent-primary); margin-top: 12px;">$${book.price.toFixed(2)}</div>
                            </div>
                            <form onsubmit="app.completePurchase('${book.id}', event)">
                                <div class="form-group">
                                    <label class="form-label">·Éë·Éê·É†·Éê·Éó·Éò·É° ·Éú·Éù·Éõ·Éî·É†·Éò</label>
                                    <input type="text" class="form-input" placeholder="1234 5678 9012 3456" required>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">·Éï·Éê·Éì·Éê</label>
                                        <input type="text" class="form-input" placeholder="MM/YY" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">CVV</label>
                                        <input type="text" class="form-input" placeholder="123" required>
                                    </div>
                                </div>
                                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 16px;">
                                    <span class="material-symbols-rounded">lock</span>
                                    ·Éí·Éê·Éì·Éê·ÉÆ·Éì·Éê $${book.price.toFixed(2)}
                                </button>
                            </form>
                        </div>
                    </div>
                `);
            }

            completePurchase(bookId, e) {
                e.preventDefault();
                const book = this.state.books.find(b => b.id === bookId);
                
                if (!this.state.user.purchasedBooks) this.state.user.purchasedBooks = [];
                this.state.user.purchasedBooks.push(bookId);
                this.saveData();
                this.closeModal();
                this.toast(`"${book.title}" ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó ·É®·Éî·É´·Éî·Éú·Éò·Éö·Éò·Éê!`, 'success');
            }

            previewBook(bookId) {
                const book = this.state.books.find(b => b.id === bookId);
                if (!book) return;

                this.openModal(`
                    <div class="modal" style="max-width: 600px;">
                        <div class="modal-header">
                            <h3 class="modal-title">
                                <span class="material-symbols-rounded">visibility</span>
                                ·Éí·Éê·Éì·Éê·ÉÆ·Éî·Éì·Éï·Éê
                            </h3>
                            <button class="modal-close" onclick="app.closeModal()">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <div style="text-align: center; margin-bottom: 24px;">
                                <img src="${book.image}" style="width: 150px; border-radius: var(--radius-md); box-shadow: var(--shadow-lg);">
                                <h3 style="margin: 16px 0 8px;">${book.title}</h3>
                                <p style="color: var(--text-secondary);">${book.author}</p>
                            </div>
                            <div style="background: var(--bg-elevated); border-radius: var(--radius-md); padding: 20px; max-height: 300px; overflow-y: auto;">
                                <p style="color: var(--text-secondary); line-height: 1.8;">${book.preview || book.description}</p>
                            </div>
                            <div class="form-actions" style="margin-top: 24px;">
                                <button class="btn btn-secondary" onclick="app.closeModal()">·Éì·Éê·ÉÆ·É£·É†·Éï·Éê</button>
                                <button class="btn btn-primary" onclick="app.buyBook('${book.id}'); app.closeModal();">
                                    <span class="material-symbols-rounded">shopping_cart</span>
                                    ·Éß·Éò·Éì·Éï·Éê
                                </button>
                            </div>
                        </div>
                    </div>
                `);
            }

            showCart() {
                this.openModal(`
                    <div class="modal">
                        <div class="modal-header">
                            <h3 class="modal-title">
                                <span class="material-symbols-rounded">shopping_cart</span>
                                ·Éô·Éê·Éö·Éê·Éó·Éê
                            </h3>
                            <button class="modal-close" onclick="app.closeModal()">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            ${this.state.cart.length === 0 ? `
                                <div class="cart-empty">
                                    <span class="material-symbols-rounded cart-empty-icon">shopping_cart</span>
                                    <h4>·Éô·Éê·Éö·Éê·Éó·Éê ·É™·Éê·É†·Éò·Éî·Éö·Éò·Éê</h4>
                                    <p style="color: var(--text-secondary); margin-bottom: 20px;">·Éì·Éê·Éê·Éõ·Éê·É¢·Éî ·É¨·Éò·Éí·Éú·Éî·Éë·Éò ·Éô·Éê·Éö·Éê·Éó·Éê·É®·Éò</p>
                                    <button class="btn btn-primary" onclick="app.navigate('books'); app.closeModal();">
                                        <span class="material-symbols-rounded">explore</span>
                                        ·É¨·Éò·Éí·Éú·Éî·Éë·Éò·É° ·Éú·Éê·ÉÆ·Éï·Éê
                                    </button>
                                </div>
                            ` : `
                                <div>
                                    ${this.state.cart.map(item => `
                                        <div class="cart-item">
                                            <img src="${item.image}" class="cart-item-image">
                                            <div class="cart-item-info">
                                                <div class="cart-item-title">${item.title}</div>
                                                <div class="cart-item-price">${item.price === 0 ? '·É£·É§·Éê·É°·Éù' : '$' + item.price.toFixed(2)}</div>
                                            </div>
                                            <button class="btn btn-ghost btn-sm" onclick="app.removeFromCart('${item.id}')" style="color: var(--accent-error);">
                                                <span class="material-symbols-rounded">delete</span>
                                            </button>
                                        </div>
                                    `).join('')}
                                </div>
                                <div class="cart-total">
                                    <span class="cart-total-label">·ÉØ·Éê·Éõ·Éò:</span>
                                    <span class="cart-total-value">$${this.state.cart.reduce((sum, item) => sum + item.price, 0).toFixed(2)}</span>
                                </div>
                                <button class="btn btn-primary" style="width: 100%; margin-top: 16px;" onclick="app.checkoutCart()">
                                    <span class="material-symbols-rounded">lock</span>
                                    ·Éí·Éê·Éì·Éê·ÉÆ·Éì·Éê
                                </button>
                            `}
                        </div>
                    </div>
                `);
            }

            removeFromCart(bookId) {
                this.state.cart = this.state.cart.filter(item => item.id !== bookId);
                this.saveData();
                this.updateCartBadge();
                this.showCart();
                this.toast('·É¨·Éê·Éò·É®·Éê·Éö·Éê ·Éô·Éê·Éö·Éê·Éó·Éò·Éì·Éê·Éú', 'success');
            }

            checkoutCart() {
                if (!this.state.user) {
                    this.closeModal();
                    this.showLoginModal();
                    return;
                }

                // Add all cart items to purchased books
                if (!this.state.user.purchasedBooks) this.state.user.purchasedBooks = [];
                this.state.cart.forEach(item => {
                    if (!this.state.user.purchasedBooks.includes(item.id)) {
                        this.state.user.purchasedBooks.push(item.id);
                    }
                });

                this.state.cart = [];
                this.saveData();
                this.updateCartBadge();
                this.closeModal();
                this.toast('·É®·Éî·Éô·Éï·Éî·Éó·Éê ·É¨·Éê·É†·Éõ·Éê·É¢·Éî·Éë·Éò·Éó ·É®·Éî·É°·É†·É£·Éö·Éì·Éê!', 'success');
            }

            // ===== Filter Functions =====
            filterByCategory(category) {
                this.state.filters.category = category;
                document.getElementById('filterCategory').value = category;
                this.navigate('books');
                this.renderBooks();
            }

            resetFilters() {
                this.state.filters = { category: 'all', price: 'all', level: 'all', sort: 'popular', search: '' };
                document.getElementById('filterCategory').value = 'all';
                document.getElementById('filterPrice').value = 'all';
                document.getElementById('filterLevel').value = 'all';
                document.getElementById('filterSort').value = 'popular';
                document.getElementById('searchInput').value = '';
                this.renderBooks();
            }

            // ===== Code Editor =====
            runCode() {
                const code = document.getElementById('codeEditor').value;
                const language = document.getElementById('languageSelect').value;
                const frame = document.getElementById('previewFrame');

                if (language === 'html') {
                    frame.srcdoc = code;
                } else if (language === 'javascript') {
                    frame.srcdoc = `
                        <!DOCTYPE html>
                        <html>
                        <head>
                            <style>
                                body { font-family: 'JetBrains Mono', monospace; background: #1a1a2e; color: #22c55e; padding: 20px; }
                                .log { margin: 5px 0; }
                            </style>
                        </head>
                        <body>
                            <div id="output"></div>
                            <script>
                                const output = document.getElementById('output');
                                const originalLog = console.log;
                                console.log = function(...args) {
                                    output.innerHTML += '<div class="log">> ' + args.join(' ') + '</div>';
                                    originalLog.apply(console, args);
                                };
                                try { ${code} } catch(e) { output.innerHTML += '<div class="log" style="color: #ef4444;">> Error: ' + e.message + '</div>'; }
                            <\/script>
                        </body>
                        </html>
                    `;
                } else if (language === 'css') {
                    frame.srcdoc = `
                        <!DOCTYPE html>
                        <html>
                        <head><style>${code}</style></head>
                        <body style="background: #1a1a2e; padding: 40px;">
                            <div style="background: white; padding: 30px; border-radius: 12px;">
                                <h1 style="color: #333;">·É°·Éê·Éó·Éê·É£·É†·Éò</h1>
                                <p style="color: #666;">·Éû·Éê·É†·Éê·Éí·É†·Éê·É§·Éò CSS-·Éò·É° ·É°·Éê·É¢·Éî·É°·É¢·Éù·Éì.</p>
                                <button style="padding: 10px 20px; cursor: pointer;">·É¶·Éò·Éö·Éê·Éô·Éò</button>
                            </div>
                        </body>
                        </html>
                    `;
                }

                this.toast('·Éô·Éù·Éì·Éò ·Éí·Éê·Éî·É®·Éï·Éê!', 'success');
            }

            clearPreview() {
                document.getElementById('previewFrame').srcdoc = '';
            }

            // ===== Chat Functions =====
            toggleChat() {
                this.state.chatOpen = !this.state.chatOpen;
                document.getElementById('chatContainer').classList.toggle('open', this.state.chatOpen);

                if (this.state.chatOpen && this.state.chatMessages.length === 0) {
                    this.state.chatMessages.push({
                        text: '·Éí·Éê·Éõ·Éê·É†·ÉØ·Éù·Éë·Éê! üëã ·É†·Éù·Éí·Éù·É† ·É®·Éî·Éõ·Éò·É´·Éö·Éò·Éê ·Éì·Éê·Éí·Éî·ÉÆ·Éõ·Éê·É†·Éù?',
                        sender: 'admin',
                        time: new Date().toLocaleTimeString('ka')
                    });
                    this.renderChatMessages();
                }
            }

            sendMessage() {
                const input = document.getElementById('chatInput');
                const text = input.value.trim();
                if (!text) return;

                this.state.chatMessages.push({
                    text,
                    sender: 'user',
                    time: new Date().toLocaleTimeString('ka')
                });

                input.value = '';
                this.renderChatMessages();
                this.saveData();

                // Auto reply
                setTimeout(() => {
                    const replies = [
                        '·Éõ·Éê·Éì·Éö·Éù·Éë·Éê ·É®·Éî·É¢·Éß·Éù·Éë·Éò·Éú·Éî·Éë·Éò·É°·Éó·Éï·Éò·É°! ·Éõ·Éê·Éö·Éî ·Éí·Éò·Éû·Éê·É°·É£·ÉÆ·Éî·Éë·Éó.',
                        '·Éó·É•·Éï·Éî·Éú·Éò ·Éô·Éò·Éó·ÉÆ·Éï·Éê ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò·Éê. ·É©·Éï·Éî·Éú·Éò ·Éí·É£·Éú·Éì·Éò ·Éì·Éê·Éí·Éî·ÉÆ·Éõ·Éê·É†·Éî·Éë·Éê·Éó.',
                        '·Éí·Éõ·Éê·Éì·Éö·Éù·Éë·Éó! ·É†·Éê·Éõ·Éî ·É°·ÉÆ·Éï·Éê ·Éí·Éê·Éò·Éú·É¢·Éî·É†·Éî·É°·Éî·Éë·Éó?'
                    ];
                    this.state.chatMessages.push({
                        text: replies[Math.floor(Math.random() * replies.length)],
                        sender: 'admin',
                        time: new Date().toLocaleTimeString('ka')
                    });
                    this.renderChatMessages();
                    this.saveData();
                }, 1000);
            }

            renderChatMessages() {
                const container = document.getElementById('chatMessages');
                container.innerHTML = this.state.chatMessages.map(msg => `
                    <div class="chat-message ${msg.sender}">
                        ${msg.text}
                        <div style="font-size: 0.75rem; color: ${msg.sender === 'user' ? 'rgba(255,255,255,0.7)' : 'var(--text-muted)'}; margin-top: 4px;">${msg.time}</div>
                    </div>
                `).join('');
                container.scrollTop = container.scrollHeight;
            }

            // ===== Cookies =====
            checkCookies() {
                const accepted = localStorage.getItem('bp_cookies');
                if (!accepted) {
                    setTimeout(() => {
                        document.getElementById('cookieBanner').classList.add('show');
                    }, 2000);
                }
            }

            acceptCookies() {
                localStorage.setItem('bp_cookies', 'accepted');
                document.getElementById('cookieBanner').classList.remove('show');
                this.toast('·É•·É£·É•·Éò-·É§·Éê·Éò·Éö·Éî·Éë·Éò ·Éõ·Éò·É¶·Éî·Éë·É£·Éö·Éò·Éê', 'success');
            }

            rejectCookies() {
                localStorage.setItem('bp_cookies', 'rejected');
                document.getElementById('cookieBanner').classList.remove('show');
                this.toast('·É•·É£·É•·Éò-·É§·Éê·Éò·Éö·Éî·Éë·Éò ·É£·Éê·É†·Éß·Éù·É§·Éò·Éö·Éò·Éê', 'info');
            }

            // ===== Toast =====
            toast(message, type = 'info') {
                const container = document.getElementById('toastContainer');
                const id = 'toast-' + Date.now();
                const icons = { success: 'check_circle', error: 'error', warning: 'warning', info: 'info' };

                const toast = document.createElement('div');
                toast.className = `toast ${type}`;
                toast.id = id;
                toast.innerHTML = `
                    <span class="material-symbols-rounded">${icons[type]}</span>
                    <span>${message}</span>
                `;

                container.appendChild(toast);
                setTimeout(() => toast.classList.add('show'), 10);
                setTimeout(() => {
                    toast.classList.remove('show');
                    setTimeout(() => toast.remove(), 300);
                }, 3000);
            }

            // ===== Admin Functions =====
            showAddBookModal() {
                this.openModal(`
                    <div class="modal" style="max-width: 600px;">
                        <div class="modal-header">
                            <h3 class="modal-title">
                                <span class="material-symbols-rounded">add</span>
                                ·É¨·Éò·Éí·Éú·Éò·É° ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê
                            </h3>
                            <button class="modal-close" onclick="app.closeModal()">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form onsubmit="app.addBook(event)">
                                <div class="form-group">
                                    <label class="form-label">·É°·Éê·Éó·Éê·É£·É†·Éò</label>
                                    <input type="text" class="form-input" id="newBookTitle" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">·Éê·Éï·É¢·Éù·É†·Éò</label>
                                    <input type="text" class="form-input" id="newBookAuthor" required>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">·É§·Éê·É°·Éò ($)</label>
                                        <input type="number" class="form-input" id="newBookPrice" step="0.01" min="0" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">·Éô·Éê·É¢·Éî·Éí·Éù·É†·Éò·Éê</label>
                                        <select class="form-input" id="newBookCategory">
                                            <option value="web">·Éï·Éî·Éë ·Éì·Éî·Éï·Éî·Éö·Éù·Éû·Éõ·Éî·Éú·É¢·Éò</option>
                                            <option value="mobile">·Éõ·Éù·Éë·Éò·Éö·É£·É†·Éò</option>
                                            <option value="data">·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·Éò</option>
                                            <option value="ai">AI & ML</option>
                                            <option value="devops">DevOps</option>
                                            <option value="algorithms">·Éê·Éö·Éí·Éù·É†·Éò·Éó·Éõ·Éî·Éë·Éò</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">·Éê·É¶·É¨·Éî·É†·Éê</label>
                                    <textarea class="form-input" id="newBookDescription" rows="3" required></textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">·É°·É£·É†·Éê·Éó·Éò·É° URL</label>
                                    <input type="url" class="form-input" id="newBookImage" required>
                                </div>
                                <button type="submit" class="btn btn-primary" style="width: 100%;">
                                    <span class="material-symbols-rounded">add</span>
                                    ·Éì·Éê·Éõ·Éê·É¢·Éî·Éë·Éê
                                </button>
                            </form>
                        </div>
                    </div>
                `);
            }

            addBook(e) {
                e.preventDefault();
                const newBook = {
                    id: 'book-' + Date.now(),
                    title: document.getElementById('newBookTitle').value,
                    author: document.getElementById('newBookAuthor').value,
                    price: parseFloat(document.getElementById('newBookPrice').value),
                    category: document.getElementById('newBookCategory').value,
                    description: document.getElementById('newBookDescription').value,
                    image: document.getElementById('newBookImage').value,
                    level: 'intermediate',
                    rating: 4.5,
                    reviews: 0,
                    pages: 300,
                    badges: ['new']
                };

                this.state.books.push(newBook);
                this.renderBooks();
                this.renderAdminSection('books');
                this.closeModal();
                this.toast('·É¨·Éò·Éí·Éú·Éò ·Éì·Éê·Éî·Éõ·Éê·É¢·Éê!', 'success');
            }

            deleteBook(bookId) {
                if (confirm('·Éú·Éê·Éõ·Éì·Éï·Éò·Éö·Éê·Éì ·Éí·É°·É£·É†·Éó ·É¨·Éê·É®·Éö·Éê?')) {
                    this.state.books = this.state.books.filter(b => b.id !== bookId);
                    this.renderBooks();
                    this.renderAdminSection('books');
                    this.toast('·É¨·Éò·Éí·Éú·Éò ·É¨·Éê·Éò·É®·Éê·Éö·Éê', 'success');
                }
            }

            editBook(bookId) {
                const book = this.state.books.find(b => b.id === bookId);
                if (!book) return;

                this.openModal(`
                    <div class="modal" style="max-width: 600px;">
                        <div class="modal-header">
                            <h3 class="modal-title">
                                <span class="material-symbols-rounded">edit</span>
                                ·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê
                            </h3>
                            <button class="modal-close" onclick="app.closeModal()">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form onsubmit="app.updateBook('${bookId}', event)">
                                <div class="form-group">
                                    <label class="form-label">·É°·Éê·Éó·Éê·É£·É†·Éò</label>
                                    <input type="text" class="form-input" id="editBookTitle" value="${book.title}" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">·Éê·Éï·É¢·Éù·É†·Éò</label>
                                    <input type="text" class="form-input" id="editBookAuthor" value="${book.author}" required>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label class="form-label">·É§·Éê·É°·Éò ($)</label>
                                        <input type="number" class="form-input" id="editBookPrice" value="${book.price}" step="0.01" min="0" required>
                                    </div>
                                    <div class="form-group">
                                        <label class="form-label">·Éô·Éê·É¢·Éî·Éí·Éù·É†·Éò·Éê</label>
                                        <select class="form-input" id="editBookCategory">
                                            <option value="web" ${book.category === 'web' ? 'selected' : ''}>·Éï·Éî·Éë ·Éì·Éî·Éï·Éî·Éö·Éù·Éû·Éõ·Éî·Éú·É¢·Éò</option>
                                            <option value="mobile" ${book.category === 'mobile' ? 'selected' : ''}>·Éõ·Éù·Éë·Éò·Éö·É£·É†·Éò</option>
                                            <option value="data" ${book.category === 'data' ? 'selected' : ''}>·Éõ·Éù·Éú·Éê·É™·Éî·Éõ·Éî·Éë·Éò</option>
                                            <option value="ai" ${book.category === 'ai' ? 'selected' : ''}>AI & ML</option>
                                            <option value="devops" ${book.category === 'devops' ? 'selected' : ''}>DevOps</option>
                                            <option value="algorithms" ${book.category === 'algorithms' ? 'selected' : ''}>·Éê·Éö·Éí·Éù·É†·Éò·Éó·Éõ·Éî·Éë·Éò</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">·Éê·É¶·É¨·Éî·É†·Éê</label>
                                    <textarea class="form-input" id="editBookDescription" rows="3" required>${book.description}</textarea>
                                </div>
                                <button type="submit" class="btn btn-primary" style="width: 100%;">
                                    <span class="material-symbols-rounded">save</span>
                                    ·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê
                                </button>
                            </form>
                        </div>
                    </div>
                `);
            }

            updateBook(bookId, e) {
                e.preventDefault();
                const book = this.state.books.find(b => b.id === bookId);
                if (!book) return;

                book.title = document.getElementById('editBookTitle').value;
                book.author = document.getElementById('editBookAuthor').value;
                book.price = parseFloat(document.getElementById('editBookPrice').value);
                book.category = document.getElementById('editBookCategory').value;
                book.description = document.getElementById('editBookDescription').value;

                this.renderBooks();
                this.renderAdminSection('books');
                this.closeModal();
                this.toast('·É¨·Éò·Éí·Éú·Éò ·Éí·Éê·Éú·Éê·ÉÆ·Éö·Éì·Éê!', 'success');
            }

            showMyBooks() {
                if (!this.state.user || !this.state.user.purchasedBooks?.length) {
                    this.toast('·ÉØ·Éî·É† ·Éê·É† ·Éí·Éê·É•·Éï·Éó ·É®·Éî·É´·Éî·Éú·Éò·Éö·Éò ·É¨·Éò·Éí·Éú·Éî·Éë·Éò', 'info');
                    return;
                }

                const myBooks = this.state.books.filter(b => this.state.user.purchasedBooks.includes(b.id));

                this.openModal(`
                    <div class="modal">
                        <div class="modal-header">
                            <h3 class="modal-title">
                                <span class="material-symbols-rounded">auto_stories</span>
                                ·É©·Éî·Éõ·Éò ·É¨·Éò·Éí·Éú·Éî·Éë·Éò
                            </h3>
                            <button class="modal-close" onclick="app.closeModal()">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            ${myBooks.map(book => `
                                <div class="cart-item">
                                    <img src="${book.image}" class="cart-item-image">
                                    <div class="cart-item-info">
                                        <div class="cart-item-title">${book.title}</div>
                                        <div style="color: var(--text-secondary); font-size: 0.85rem;">${book.author}</div>
                                    </div>
                                    <button class="btn btn-primary btn-sm" onclick="app.readBook('${book.id}')">
                                        <span class="material-symbols-rounded">menu_book</span>
                                        ·É¨·Éê·Éô·Éò·Éó·ÉÆ·Éï·Éê
                                    </button>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `);
            }

            readBook(bookId) {
                const book = this.state.books.find(b => b.id === bookId);
                this.closeModal();
                this.toast(`·Éò·ÉÆ·É°·Éú·Éî·Éë·Éê: "${book.title}"`, 'success');
            }

            showEditProfileModal() {
                if (!this.state.user) return;

                this.openModal(`
                    <div class="modal">
                        <div class="modal-header">
                            <h3 class="modal-title">
                                <span class="material-symbols-rounded">edit</span>
                                ·Éû·É†·Éù·É§·Éò·Éö·Éò·É° ·É†·Éî·Éì·Éê·É•·É¢·Éò·É†·Éî·Éë·Éê
                            </h3>
                            <button class="modal-close" onclick="app.closeModal()">
                                <span class="material-symbols-rounded">close</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <form onsubmit="app.updateProfile(event)">
                                <div class="form-group">
                                    <label class="form-label">·É°·Éê·ÉÆ·Éî·Éö·Éò</label>
                                    <input type="text" class="form-input" id="editProfileName" value="${this.state.user.name}" required>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">·É¢·Éî·Éö·Éî·É§·Éù·Éú·Éò</label>
                                    <input type="tel" class="form-input" id="editProfilePhone" value="${this.state.user.phone || ''}">
                                </div>
                                <button type="submit" class="btn btn-primary" style="width: 100%;">
                                    <span class="material-symbols-rounded">save</span>
                                    ·É®·Éî·Éú·Éê·ÉÆ·Éï·Éê
                                </button>
                            </form>
                        </div>
                    </div>
                `);
            }

            updateProfile(e) {
                e.preventDefault();
                this.state.user.name = document.getElementById('editProfileName').value;
                this.state.user.phone = document.getElementById('editProfilePhone').value;
                this.saveData();
                this.renderProfile();
                this.closeModal();
                this.toast('·Éû·É†·Éù·É§·Éò·Éö·Éò ·Éí·Éê·Éú·Éê·ÉÆ·Éö·Éì·Éê!', 'success');
            }

            uploadAvatar() {
                const input = document.createElement('input');
                input.type = 'file';
                input.accept = 'image/*';
                input.onchange = (e) => {
                    const file = e.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (event) => {
                            this.state.user.avatar = event.target.result;
                            this.saveData();
                            this.renderProfile();
                            this.toast('·É§·Éù·É¢·Éù ·Éí·Éê·Éú·Éê·ÉÆ·Éö·Éì·Éê!', 'success');
                        };
                        reader.readAsDataURL(file);
                    }
                };
                input.click();
            }
        }

        // Initialize app
        const app = new BetterProgrammerApp();
    </script>
</body>
</html>
